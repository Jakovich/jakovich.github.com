"use strict";$(document).ready(function(e){function p(e,p,r,a){var o=document.createElement("span");if(r){var a=document.createTextNode(a);o.appendChild(a)}o.className=p;var t=$("label[for='"+e+"']");t.append(o)}function r(e,p){var r=$("label[for='"+e+"']");r.children().hasClass(p)&&r.find("."+p).remove()}$("head").append("<link href='https://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700,700italic&amp;subset=latin,cyrillic-ext' rel='stylesheet' type='text/css'>"),$(".popup-report").after("<div class='popup-report__overlay'></div>"),$(".popup-report, .popup-report__overlay").hide(),$(".basic-btn").click(function(e){e.preventDefault(),$(".popup-report, .popup-report__overlay").fadeIn(500)}),$(".popup-report__close, .popup-report__overlay").click(function(){$(".popup-report, .popup-report__overlay").fadeOut(500),$(".popup-report").hasClass("popup-report__shake")&&$(".popup-report").removeClass("popup-report__shake")}),$(this).keydown(function(e){27==e.which&&$(".popup-report, .popup-report__overlay").fadeOut(500),$(".popup-report").hasClass("popup-report__shake")&&$(".popup-report").removeClass("popup-report__shake")});var a=0,o=0,t=0,n=0,l=$(".call-master [name=phone]").val();if(a=""===l?0:1,Inputmask.isValid(l,{alias:"+7 (999) 999-9999"}))var a=2;var s=$(".call-master [name=name]").val();if(o=""===s?0:1,Inputmask.isValid(s,{alias:"a{2,20} "}))var o=2;var i=$(".popup-report__form [name=phone]").val();if(Inputmask.isValid(i,{alias:"+7 (999) 999-9999"}))var t=1;var u=$(".popup-report__form [name=name]").val();if(Inputmask.isValid(u,{alias:"a{2,20} "}))var n=1;$("#input-phone").inputmask("+7 (999) 999-9999",{onincomplete:function(){var e=$(".call-master [name=phone]").val();a=""===e?0:1},oncomplete:function(){a=2,$(this).removeClass("call-master__input--invalid"),r("input-phone","call-master__errorMsg")},onKeyValidation:function(){r("input-phone","call-master__errorMsg")}}),$("#input-name").inputmask("a{2,20} [aa{2,20}]",{onincomplete:function(){var e=$(".call-master [name=name]").val();o=""===e?0:1},oncomplete:function(){o=2,$(this).removeClass("call-master__input--invalid"),r("input-name","call-master__errorMsg")},onKeyValidation:function(){r("input-name","call-master__errorMsg")},placeholder:" ",showMaskOnHover:!1}),$(".call-master__btn").click(function(e){0===a&&(e.preventDefault(),$("#input-phone").addClass("call-master__input--invalid"),$("label[for='input-phone']").children().hasClass("call-master__errorMsg")||p("input-phone","call-master__errorMsg",!0,"Введите номер телефона")),1===a&&(e.preventDefault(),$("#input-phone").addClass("call-master__input--invalid"),$("label[for='input-phone']").children().hasClass("call-master__errorMsg")||p("input-phone","call-master__errorMsg",!0,"Введите номер полностью")),0===o&&(e.preventDefault(),$("#input-name").addClass("call-master__input--invalid"),$("label[for='input-name']").children().hasClass("call-master__errorMsg")||p("input-name","call-master__errorMsg",!0,"Введите имя")),1===o&&(e.preventDefault(),$("#input-name").addClass("call-master__input--invalid"),$("label[for='input-name']").children().hasClass("call-master__errorMsg")||p("input-name","call-master__errorMsg",!0,"Введите имя минимум из 2 букв"))}),$("#report-phone").inputmask("+7 (999) 999-9999",{onincomplete:function(){t=0,$(this).addClass("popup-report__input--invalid"),p("report-phone","popup-report__error")},oncomplete:function(){t=1,$(this).removeClass("popup-report__input--invalid"),r("report-phone","popup-report__error")},onKeyValidation:function(){r("report-phone","popup-report__error")}}),$("#report-name").inputmask("a{2,20} [aa{2,20}]",{placeholder:" ",showMaskOnHover:!1,onincomplete:function(){n=0,$(this).addClass("popup-report__input--invalid"),p("report-name","popup-report__error")},oncomplete:function(){n=1,$(this).removeClass("popup-report__input--invalid"),r("report-name","popup-report__error")},onKeyValidation:function(){r("report-name","popup-report__error")}}),$(".popup-report__btn").click(function(e){0===t&&(e.preventDefault(),$("#report-phone").addClass("popup-report__input--invalid"),$("label[for='report-phone']").children().hasClass("popup-report__error")||p("report-phone","popup-report__error")),0===n&&(e.preventDefault(),$("#report-name").addClass("popup-report__input--invalid"),$("label[for='input-name']").children().hasClass("popup-report__error")||p("report-name","popup-report__error")),0!==n&&0!==t||($(".popup-report").hasClass("popup-report__shake")&&$(".popup-report").removeClass("popup-report__shake"),$(".popup-report").addClass("popup-report__shake"))}),$(document).mouseup(function(e){var p=$(".call-master");p.is(e.target)||0!==p.has(e.target).length||(r("input-phone","call-master__errorMsg"),r("input-name","call-master__errorMsg"),$("#input-name").removeClass("call-master__input--invalid"),$("#input-phone").removeClass("call-master__input--invalid"))}),$(document).mouseup(function(e){var p=$(".popup-report");p.is(e.target)||0!==p.has(e.target).length||(r("report-name","popup-report__error"),r("report-phone","popup-report__error"),$("#report-name").removeClass("popup-report__input--invalid"),$("#report-phone").removeClass("popup-report__input--invalid"))})});