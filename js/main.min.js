"use strict";$(document).ready(function(e){function r(e,r,o,a){var p=document.createElement("span");if(o){var a=document.createTextNode(a);p.appendChild(a)}p.className=r;var t=$("label[for='"+e+"']");t.append(p)}function o(e,r){var o=$("label[for='"+e+"']");o.children().hasClass(r)&&o.find("."+r).remove()}function a(e,r,a,p,t,n){var s=$(e);console.log(s),s.is(n.target)||0!==s.has(n.target).length||(o(r,t),o(a,t),$("#"+r).removeClass(p),$("#"+a).removeClass(p))}$("head").append("<link href='https://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700,700italic&amp;subset=latin,cyrillic-ext' rel='stylesheet' type='text/css'>"),$(".popup-report").after("<div class='popup-report__overlay'></div>"),$(".popup-report, .popup-report__overlay").hide(),$(".basic-btn").click(function(e){e.preventDefault(),$(".popup-report, .popup-report__overlay").fadeIn(500)}),$(".popup-report__close, .popup-report__overlay").click(function(){$(".popup-report, .popup-report__overlay").fadeOut(500),$(".popup-report").hasClass("popup-report__shake")&&$(".popup-report").removeClass("popup-report__shake")}),$(this).keydown(function(e){27==e.which&&$(".popup-report, .popup-report__overlay").fadeOut(500),$(".popup-report").hasClass("popup-report__shake")&&$(".popup-report").removeClass("popup-report__shake")});var p=0,t=0,n=0,s=0,l=0,i=0,c=$(".call-master [name=phone]").val();if(p=""===c?0:1,Inputmask.isValid(c,{alias:"+7 (999) 999-9999"}))var p=2;var u=$(".call-master [name=name]").val();if(t=""===u?0:1,Inputmask.isValid(u,{alias:"a{2,20} "}))var t=2;var _=$(".popup-report__form [name=phone]").val();if(Inputmask.isValid(_,{alias:"+7 (999) 999-9999"}))var n=1;var m=$(".popup-report__form [name=name]").val();if(Inputmask.isValid(m,{alias:"a{2,20} "}))var s=1;$("#input-phone").inputmask("+7 (999) 999-9999",{onincomplete:function(){var e=$(".call-master [name=phone]").val();p=""===e?0:1},oncomplete:function(){p=2,$(this).removeClass("call-master__input--invalid"),o("input-phone","call-master__errorMsg")},onKeyValidation:function(){o("input-phone","call-master__errorMsg")}}),$("#input-name").inputmask("a{2,20} [aa{2,20}]",{onincomplete:function(){var e=$(".call-master [name=name]").val();t=""===e?0:1},oncomplete:function(){t=2,$(this).removeClass("call-master__input--invalid"),o("input-name","call-master__errorMsg")},onKeyValidation:function(){o("input-name","call-master__errorMsg")},placeholder:" ",showMaskOnHover:!1}),$(".call-master__btn").click(function(e){0===p?(e.preventDefault(),$("#input-phone").addClass("call-master__input--invalid"),$("label[for='input-phone']").children().hasClass("call-master__errorMsg")||r("input-phone","call-master__errorMsg",!0,"Введите номер телефона")):1===p&&(e.preventDefault(),$("#input-phone").addClass("call-master__input--invalid"),$("label[for='input-phone']").children().hasClass("call-master__errorMsg")||r("input-phone","call-master__errorMsg",!0,"Введите номер полностью")),0===t?(e.preventDefault(),$("#input-name").addClass("call-master__input--invalid"),$("label[for='input-name']").children().hasClass("call-master__errorMsg")||r("input-name","call-master__errorMsg",!0,"Введите имя")):1===t&&(e.preventDefault(),$("#input-name").addClass("call-master__input--invalid"),$("label[for='input-name']").children().hasClass("call-master__errorMsg")||r("input-name","call-master__errorMsg",!0,"Введите имя минимум из 2 букв"))}),$("#contacts-phone").inputmask("+7 (999) 999-9999",{onincomplete:function(){var e=$(".contacts-form [name=phone]").val();l=""===e?0:1},oncomplete:function(){l=2,$(this).removeClass("contacts-form__input--invalid"),o("contacts-phone","contacts-form__errorMsg")},onKeyValidation:function(){o("contacts-phone","contacts-form__errorMsg")}}),$("#contacts-name").inputmask("a{2,20} [aa{2,20}]",{onincomplete:function(){var e=$(".contacts-form [name=name]").val();i=""===e?0:1},oncomplete:function(){i=2,$(this).removeClass("contacts-form__input--invalid"),o("contacts-name","contacts-form__errorMsg")},onKeyValidation:function(){o("contacts-name","contacts-form__errorMsg")},placeholder:" ",showMaskOnHover:!1}),$(".contacts-form__btn").click(function(e){0===l&&(e.preventDefault(),$("#contacts-phone").addClass("contacts-form__input--invalid"),$("label[for='contacts-phone']").children().hasClass("call-master__errorMsg")||r("contacts-phone","contacts-form__errorMsg",!0,"Введите номер телефона")),1===l&&(e.preventDefault(),$("#contacts-phone").addClass("contacts-form__input--invalid"),$("label[for='contacts-phone']").children().hasClass("call-master__errorMsg")||r("contacts-phone","contacts-form__errorMsg",!0,"Введите номер полностью")),0===i&&(e.preventDefault(),$("#contacts-name").addClass("contacts-form__input--invalid"),$("label[for='contacts-name']").children().hasClass("call-master__errorMsg")||r("contacts-name","contacts-form__errorMsg",!0,"Введите имя")),1===i&&(e.preventDefault(),$("#contacts-name").addClass("contacts-form__input--invalid"),$("label[for='contacts-name']").children().hasClass("call-master__errorMsg")||r("contacts-name","contacts-form__errorMsg",!0,"Введите имя минимум из 2 букв"))}),$("#report-phone").inputmask("+7 (999) 999-9999",{onincomplete:function(){n=0,$(this).addClass("popup-report__input--invalid"),r("report-phone","popup-report__error")},oncomplete:function(){n=1,$(this).removeClass("popup-report__input--invalid"),o("report-phone","popup-report__error")},onKeyValidation:function(){o("report-phone","popup-report__error")}}),$("#report-name").inputmask("a{2,20} [aa{2,20}]",{placeholder:" ",showMaskOnHover:!1,onincomplete:function(){s=0,$(this).addClass("popup-report__input--invalid"),r("report-name","popup-report__error")},oncomplete:function(){s=1,$(this).removeClass("popup-report__input--invalid"),o("report-name","popup-report__error")},onKeyValidation:function(){o("report-name","popup-report__error")}}),$(".popup-report__btn").click(function(e){0===n&&(e.preventDefault(),$("#report-phone").addClass("popup-report__input--invalid"),$("label[for='report-phone']").children().hasClass("popup-report__error")||r("report-phone","popup-report__error")),0===s&&(e.preventDefault(),$("#report-name").addClass("popup-report__input--invalid"),$("label[for='input-name']").children().hasClass("popup-report__error")||r("report-name","popup-report__error")),0!==s&&0!==n||($(".popup-report").hasClass("popup-report__shake")&&$(".popup-report").removeClass("popup-report__shake"),$(".popup-report").addClass("popup-report__shake"))}),$(".popup-report__form").submit(function(){$(".popup-report, .popup-report__overlay").fadeOut(500),$(".popup-report").hasClass("popup-report__shake")&&$(".popup-report").removeClass("popup-report__shake")}),$(document).mouseup(function(e){a(".call-master","input-name","input-phone","call-master__input--invalid","call-master__errorMsg",e)}),$(document).mouseup(function(e){a(".contacts-form","contacts-name","contacts-phone","contacts-form__input--invalid","contacts-form__errorMsg",e)}),$(document).mouseup(function(e){a(".popup-report","report-name","report-phone","popup-report__input--invalid","popup-report__error",e)})});