!function(t,e,i,n){var s={init:function(){r.init();var e=t(".preview");e.stick_in_parent({}),t("#constructor").construct({}),t('[data-tooltip!=""]').qtip({content:{attr:"data-tooltip"},position:{target:"mouse",adjust:{x:10,y:10}},style:{classes:"qtip-dark"}}),t(".qtip-link").qtip({content:'<a style="color: #fff; font-weight: 500;" href="size" target="_blank">Как выбрать размер?</a>',hide:{fixed:!0,delay:300},style:{classes:"qtip-dark"}})}},o=!1,r={init:function(){t(i).find(".validate").validate(),r.ajaxSubmit(),t(i).find(".phone-input").mask("0 (000) 000-00-00"),o===!1&&(o=new plupload.Uploader({runtimes:"html5,flash,silverlight,html4",browse_button:"pickfiles",container:i.getElementById("file-container"),url:"#",flash_swf_url:"#",unique_names:!0,rename:!0,max_file_count:3,multi_selection:!0,multiple_queues:!0,silverlight_xap_url:"#",filters:{max_file_size:"5mb",mime_types:[{title:"Image files",extensions:"jpg,gif,png,cdr,ai"},{title:"Zip files",extensions:"zip"},{title:"Doc files",extensions:"pdf,xml,xmls,xlsx,txt,rtf,odt,sxw,tex,doc,docx,docm"}]},init:{PostInit:function(){i.getElementById("filelist").innerHTML="",i.getElementById("uploadfiles").onclick=function(){return o.start(),!1}},FilesAdded:function(t,e){i.getElementById("filelist").innerHTML="",plupload.each(e,function(t){i.getElementById("filelist").innerHTML+='<div id="'+t.id+'">'+t.name+" ("+plupload.formatSize(t.size)+") <b></b></div>"}),t.start()},UploadProgress:function(t,e){i.getElementById(e.id).getElementsByTagName("b")[0].innerHTML="<span>"+e.percent+"%</span>"},Error:function(t,e){},UploadComplete:function(e,i){var n=[];t.each(i,function(t,e){n.push(e.target_name)});var s=n.join(",");t(".logo-input").val(s)}}}),o.init())},ajaxSubmit:function(){t(i).off("submit",".ajaxSubmit"),t(i).on("submit",".ajaxSubmit",function(e){e.preventDefault?e.preventDefault():e.returnValue=!1;var i,n,s;s=t(this),r.showLoader(s),n=t(this).serialize(),i=t(this).attr("action"),t.ajax({url:i,type:"post",dataType:"html",data:n,error:function(){alert("Произошла ошибка (код #001) отправки сообщения.")},complete:function(){r.hideLoader(s)},success:function(t){}})})},showLoader:function(t){},hideLoader:function(t){}};t(i).ready(s.init)}(jQuery,window,document),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(window.jQuery||window.Zepto)}(function(t){"use strict";var e=function(e,i,n){e=t(e);var s,o=this,r=e.val();i="function"==typeof i?i(e.val(),void 0,e,n):i;var a={invalid:[],getCaret:function(){try{var t,i=0,n=e.get(0),s=document.selection,o=n.selectionStart;return s&&navigator.appVersion.indexOf("MSIE 10")===-1?(t=s.createRange(),t.moveStart("character",e.is("input")?-e.val().length:-e.text().length),i=t.text.length):(o||"0"===o)&&(i=o),i}catch(r){}},setCaret:function(t){try{if(e.is(":focus")){var i,n=e.get(0);n.setSelectionRange?n.setSelectionRange(t,t):n.createTextRange&&(i=n.createTextRange(),i.collapse(!0),i.moveEnd("character",t),i.moveStart("character",t),i.select())}}catch(s){}},events:function(){e.on("keyup.mask",a.behaviour).on("paste.mask drop.mask",function(){setTimeout(function(){e.keydown().keyup()},100)}).on("change.mask",function(){e.data("changed",!0)}).on("blur.mask",function(){r===e.val()||e.data("changed")||e.trigger("change"),e.data("changed",!1)}).on("keydown.mask, blur.mask",function(){r=e.val()}).on("focus.mask",function(e){n.selectOnFocus===!0&&t(e.target).select()}).on("focusout.mask",function(){n.clearIfNotMatch&&!s.test(a.val())&&a.val("")})},getRegexMask:function(){for(var t,e,n,s,r,a,l=[],c=0;c<i.length;c++)t=o.translation[i.charAt(c)],t?(e=t.pattern.toString().replace(/.{1}$|^.{1}/g,""),n=t.optional,s=t.recursive,s?(l.push(i.charAt(c)),r={digit:i.charAt(c),pattern:e}):l.push(n||s?e+"?":e)):l.push(i.charAt(c).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"));return a=l.join(""),r&&(a=a.replace(new RegExp("("+r.digit+"(.*"+r.digit+")?)"),"($1)?").replace(new RegExp(r.digit,"g"),r.pattern)),new RegExp(a)},destroyEvents:function(){e.off(["keydown","keyup","paste","drop","blur","focusout",""].join(".mask "))},val:function(t){var i,n=e.is("input"),s=n?"val":"text";return arguments.length>0?(e[s]()!==t&&e[s](t),i=e):i=e[s](),i},getMCharsBeforeCount:function(t,e){for(var n=0,s=0,r=i.length;s<r&&s<t;s++)o.translation[i.charAt(s)]||(t=e?t+1:t,n++);return n},caretPos:function(t,e,n,s){var r=o.translation[i.charAt(Math.min(t-1,i.length-1))];return r?Math.min(t+n-e-s,n):a.caretPos(t+1,e,n,s)},behaviour:function(e){e=e||window.event,a.invalid=[];var i=e.keyCode||e.which;if(t.inArray(i,o.byPassKeys)===-1){var n=a.getCaret(),s=a.val(),r=s.length,l=n<r,c=a.getMasked(),u=c.length,h=a.getMCharsBeforeCount(u-1)-a.getMCharsBeforeCount(r-1);return a.val(c),!l||65===i&&e.ctrlKey||(8!==i&&46!==i&&(n=a.caretPos(n,r,u,h)),a.setCaret(n)),a.callbacks(e)}},getMasked:function(t){var e,s,r=[],l=a.val(),c=0,u=i.length,h=0,d=l.length,f=1,p="push",m=-1;for(n.reverse?(p="unshift",f=-1,e=0,c=u-1,h=d-1,s=function(){return c>-1&&h>-1}):(e=u-1,s=function(){return c<u&&h<d});s();){var g=i.charAt(c),v=l.charAt(h),y=o.translation[g];y?(v.match(y.pattern)?(r[p](v),y.recursive&&(m===-1?m=c:c===e&&(c=m-f),e===m&&(c-=f)),c+=f):y.optional?(c+=f,h-=f):y.fallback?(r[p](y.fallback),c+=f,h-=f):a.invalid.push({p:h,v:v,e:y.pattern}),h+=f):(t||r[p](g),v===g&&(h+=f),c+=f)}var b=i.charAt(e);return u!==d+1||o.translation[b]||r.push(b),r.join("")},callbacks:function(t){var s=a.val(),o=s!==r,l=[s,t,e,n],c=function(t,e,i){"function"==typeof n[t]&&e&&n[t].apply(this,i)};c("onChange",o===!0,l),c("onKeyPress",o===!0,l),c("onComplete",s.length===i.length,l),c("onInvalid",a.invalid.length>0,[s,t,e,a.invalid,n])}};o.mask=i,o.options=n,o.remove=function(){var t=a.getCaret();return a.destroyEvents(),a.val(o.getCleanVal()),a.setCaret(t-a.getMCharsBeforeCount(t)),e},o.getCleanVal=function(){return a.getMasked(!0)},o.init=function(i){if(i=i||!1,n=n||{},o.byPassKeys=t.jMaskGlobals.byPassKeys,o.translation=t.jMaskGlobals.translation,o.translation=t.extend({},o.translation,n.translation),o=t.extend(!0,{},o,n),s=a.getRegexMask(),i===!1){n.placeholder&&e.attr("placeholder",n.placeholder),e.attr("autocomplete","off"),a.destroyEvents(),a.events();var r=a.getCaret();a.val(a.getMasked()),a.setCaret(r+a.getMCharsBeforeCount(r,!0))}else a.events(),a.val(a.getMasked())},o.init(!e.is("input"))};t.maskWatchers={};var i=function(){var i=t(this),s={},o="data-mask-",r=i.attr("data-mask");if(i.attr(o+"reverse")&&(s.reverse=!0),i.attr(o+"clearifnotmatch")&&(s.clearIfNotMatch=!0),"true"===i.attr(o+"selectonfocus")&&(s.selectOnFocus=!0),n(i,r,s))return i.data("mask",new e(this,r,s))},n=function(e,i,n){n=n||{};var s=t(e).data("mask"),o=JSON.stringify,r=t(e).val()||t(e).text();try{return"function"==typeof i&&(i=i(r)),"object"!=typeof s||o(s.options)!==o(n)||s.mask!==i}catch(a){}};t.fn.mask=function(i,s){s=s||{};var o=this.selector,r=t.jMaskGlobals,a=t.jMaskGlobals.watchInterval,l=function(){if(n(this,i,s))return t(this).data("mask",new e(this,i,s))};return t(this).each(l),o&&""!==o&&r.watchInputs&&(clearInterval(t.maskWatchers[o]),t.maskWatchers[o]=setInterval(function(){t(document).find(o).each(l)},a)),this},t.fn.unmask=function(){return clearInterval(t.maskWatchers[this.selector]),delete t.maskWatchers[this.selector],this.each(function(){var e=t(this).data("mask");e&&e.remove().removeData("mask")})},t.fn.cleanVal=function(){return this.data("mask").getCleanVal()},t.applyDataMask=function(){t(document).find(t.jMaskGlobals.maskElements).filter(s.dataMaskAttr).each(i)};var s={maskElements:"input,td,span,div",dataMaskAttr:"*[data-mask]",dataMask:!0,watchInterval:300,watchInputs:!0,watchDataMask:!1,byPassKeys:[9,16,17,18,36,37,38,39,40,91],translation:{0:{pattern:/\d/},9:{pattern:/\d/,optional:!0},"#":{pattern:/\d/,recursive:!0},A:{pattern:/[a-zA-Z0-9]/},S:{pattern:/[a-zA-Z]/}}};t.jMaskGlobals=t.jMaskGlobals||{},s=t.jMaskGlobals=t.extend(!0,{},s,t.jMaskGlobals),s.dataMask&&t.applyDataMask(),setInterval(function(){t.jMaskGlobals.watchDataMask&&t.applyDataMask()},s.watchInterval)}),function(t){"use strict";t.fn.serializeJSON=function(e){var i,n,s,o,r,a,l;return a=t.serializeJSON,l=a.optsWithDefaults(e),a.validateOptions(l),n=this.serializeArray(),a.readCheckboxUncheckedValues(n,this,l),i={},t.each(n,function(t,e){s=a.splitInputNameIntoKeysArray(e.name),o=s.pop(),"skip"!==o&&(r=a.parseValue(e.value,o,l),l.parseWithFunction&&"_"===o&&(r=l.parseWithFunction(r,e.name)),a.deepSet(i,s,r,l))}),i},t.serializeJSON={defaultOptions:{parseNumbers:!1,parseBooleans:!1,parseNulls:!1,parseAll:!1,parseWithFunction:null,checkboxUncheckedValue:void 0,useIntKeysAsArrayIndex:!1},optsWithDefaults:function(e){var i,n;return null==e&&(e={}),i=t.serializeJSON,n=i.optWithDefaults("parseAll",e),{parseNumbers:n||i.optWithDefaults("parseNumbers",e),parseBooleans:n||i.optWithDefaults("parseBooleans",e),parseNulls:n||i.optWithDefaults("parseNulls",e),parseWithFunction:i.optWithDefaults("parseWithFunction",e),checkboxUncheckedValue:i.optWithDefaults("checkboxUncheckedValue",e),useIntKeysAsArrayIndex:i.optWithDefaults("useIntKeysAsArrayIndex",e)}},optWithDefaults:function(e,i){return i[e]!==!1&&""!==i[e]&&(i[e]||t.serializeJSON.defaultOptions[e])},validateOptions:function(t){var e,i;i=["parseNumbers","parseBooleans","parseNulls","parseAll","parseWithFunction","checkboxUncheckedValue","useIntKeysAsArrayIndex"];for(e in t)if(i.indexOf(e)===-1)throw new Error("serializeJSON ERROR: invalid option '"+e+"'. Please use one of "+i.join(","))},parseValue:function(e,i,n){var s;return s=t.serializeJSON,"string"==i?e:"number"==i||n.parseNumbers&&s.isNumeric(e)?Number(e):"boolean"==i||n.parseBooleans&&("true"===e||"false"===e)?["false","null","undefined","","0"].indexOf(e)===-1:"null"==i||n.parseNulls&&"null"==e?["false","null","undefined","","0"].indexOf(e)!==-1?null:e:"array"==i||"object"==i?JSON.parse(e):"auto"==i?s.parseValue(e,null,{parseNumbers:!0,parseBooleans:!0,parseNulls:!0}):e},isObject:function(t){return t===Object(t)},isUndefined:function(t){return void 0===t},isValidArrayIndex:function(t){return/^[0-9]+$/.test(String(t))},isNumeric:function(t){return t-parseFloat(t)>=0},splitInputNameIntoKeysArray:function(e){var i,n,s,o,r;return r=t.serializeJSON,o=r.extractTypeFromInputName(e),n=o[0],s=o[1],i=n.split("["),i=t.map(i,function(t){return t.replace(/]/g,"")}),""===i[0]&&i.shift(),i.push(s),i},extractTypeFromInputName:function(e){var i,n;if(n=t.serializeJSON,i=e.match(/(.*):([^:]+)$/)){var s=["string","number","boolean","null","array","object","skip","auto"];if(s.indexOf(i[2])!==-1)return[i[1],i[2]];throw new Error("serializeJSON ERROR: Invalid type "+i[2]+" found in input name '"+e+"', please use one of "+s.join(", "))}return[e,"_"]},deepSet:function(e,i,n,s){var o,r,a,l,c,u;if(null==s&&(s={}),u=t.serializeJSON,u.isUndefined(e))throw new Error("ArgumentError: param 'o' expected to be an object or array, found undefined");if(!i||0===i.length)throw new Error("ArgumentError: param 'keys' expected to be an array with least one element");o=i[0],1===i.length?""===o?e.push(n):e[o]=n:(r=i[1],""===o&&(l=e.length-1,c=e[l],o=u.isObject(c)&&(u.isUndefined(c[r])||i.length>2)?l:l+1),u.isUndefined(e[o])&&(""===r?e[o]=[]:s.useIntKeysAsArrayIndex&&u.isValidArrayIndex(r)?e[o]=[]:e[o]={}),a=i.slice(1),u.deepSet(e[o],a,n,s))},readCheckboxUncheckedValues:function(e,i,n){var s,o,r,a,l;null==n&&(n={}),l=t.serializeJSON,s="input[type=checkbox][name]:not(:checked)",o=i.find(s).add(i.filter(s)),o.each(function(i,s){r=t(s),a=r.attr("data-unchecked-value"),a?e.push({name:s.name,value:a}):l.isUndefined(n.checkboxUncheckedValue)||e.push({name:s.name,value:n.checkboxUncheckedValue})})}}}(window.jQuery||window.Zepto||window.$),function(t){t.extend(t.fn,{validate:function(e){if(!this.length)return void(e&&e.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."));var i=t.data(this[0],"validator");return i?i:(this.attr("novalidate","novalidate"),i=new t.validator(e,this[0]),t.data(this[0],"validator",i),i.settings.onsubmit&&(this.validateDelegate(":submit","click",function(e){i.settings.submitHandler&&(i.submitButton=e.target),t(e.target).hasClass("cancel")&&(i.cancelSubmit=!0),void 0!==t(e.target).attr("formnovalidate")&&(i.cancelSubmit=!0)}),this.submit(function(e){function n(){var n;return!i.settings.submitHandler||(i.submitButton&&(n=t("<input type='hidden'/>").attr("name",i.submitButton.name).val(t(i.submitButton).val()).appendTo(i.currentForm)),i.settings.submitHandler.call(i,i.currentForm,e),i.submitButton&&n.remove(),!1)}return i.settings.debug&&e.preventDefault(),i.cancelSubmit?(i.cancelSubmit=!1,n()):i.form()?i.pendingRequest?(i.formSubmitted=!0,!1):n():(i.focusInvalid(),!1)})),i)},valid:function(){var e,i;return t(this[0]).is("form")?e=this.validate().form():(e=!0,i=t(this[0].form).validate(),this.each(function(){e=i.element(this)&&e})),e},removeAttrs:function(e){var i={},n=this;return t.each(e.split(/\s/),function(t,e){i[e]=n.attr(e),n.removeAttr(e)}),i},rules:function(e,i){var n,s,o,r,a,l,c=this[0];if(e)switch(n=t.data(c.form,"validator").settings,s=n.rules,o=t.validator.staticRules(c),e){case"add":t.extend(o,t.validator.normalizeRule(i)),delete o.messages,s[c.name]=o,i.messages&&(n.messages[c.name]=t.extend(n.messages[c.name],i.messages));break;case"remove":return i?(l={},t.each(i.split(/\s/),function(e,i){l[i]=o[i],delete o[i],"required"===i&&t(c).removeAttr("aria-required")}),l):(delete s[c.name],o)}return r=t.validator.normalizeRules(t.extend({},t.validator.classRules(c),t.validator.attributeRules(c),t.validator.dataRules(c),t.validator.staticRules(c)),c),r.required&&(a=r.required,delete r.required,r=t.extend({required:a},r),t(c).attr("aria-required","true")),r.remote&&(a=r.remote,delete r.remote,r=t.extend(r,{remote:a})),r}}),t.extend(t.expr[":"],{blank:function(e){return!t.trim(""+t(e).val())},filled:function(e){return!!t.trim(""+t(e).val())},unchecked:function(e){return!t(e).prop("checked")}}),t.validator=function(e,i){this.settings=t.extend(!0,{},t.validator.defaults,e),this.currentForm=i,this.init()},t.validator.format=function(e,i){return 1===arguments.length?function(){var i=t.makeArray(arguments);return i.unshift(e),t.validator.format.apply(this,i)}:(arguments.length>2&&i.constructor!==Array&&(i=t.makeArray(arguments).slice(1)),i.constructor!==Array&&(i=[i]),t.each(i,function(t,i){e=e.replace(new RegExp("\\{"+t+"\\}","g"),function(){return i})}),e)},t.extend(t.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:!0,errorContainer:t([]),errorLabelContainer:t([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(t){this.lastActive=t,this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,t,this.settings.errorClass,this.settings.validClass),this.addWrapper(this.errorsFor(t)).hide())},onfocusout:function(t){this.checkable(t)||!(t.name in this.submitted)&&this.optional(t)||this.element(t)},onkeyup:function(t,e){9===e.which&&""===this.elementValue(t)||(t.name in this.submitted||t===this.lastElement)&&this.element(t)},onclick:function(t){t.name in this.submitted?this.element(t):t.parentNode.name in this.submitted&&this.element(t.parentNode)},highlight:function(e,i,n){"radio"===e.type?this.findByName(e.name).addClass(i).removeClass(n):t(e).addClass(i).removeClass(n)},unhighlight:function(e,i,n){"radio"===e.type?this.findByName(e.name).removeClass(i).addClass(n):t(e).removeClass(i).addClass(n)}},setDefaults:function(e){t.extend(t.validator.defaults,e)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:t.validator.format("Please enter no more than {0} characters."),minlength:t.validator.format("Please enter at least {0} characters."),rangelength:t.validator.format("Please enter a value between {0} and {1} characters long."),range:t.validator.format("Please enter a value between {0} and {1}."),max:t.validator.format("Please enter a value less than or equal to {0}."),min:t.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function e(e){var i=t.data(this[0].form,"validator"),n="on"+e.type.replace(/^validate/,""),s=i.settings;s[n]&&!this.is(s.ignore)&&s[n].call(i,this[0],e)}this.labelContainer=t(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||t(this.currentForm),this.containers=t(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var i,n=this.groups={};t.each(this.settings.groups,function(e,i){"string"==typeof i&&(i=i.split(/\s/)),t.each(i,function(t,i){n[i]=e})}),i=this.settings.rules,t.each(i,function(e,n){i[e]=t.validator.normalizeRule(n)}),t(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",e).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",e),this.settings.invalidHandler&&t(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler),t(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){return this.checkForm(),t.extend(this.submitted,this.errorMap),this.invalid=t.extend({},this.errorMap),this.valid()||t(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var t=0,e=this.currentElements=this.elements();e[t];t++)this.check(e[t]);return this.valid()},element:function(e){var i=this.clean(e),n=this.validationTargetFor(i),s=!0;return this.lastElement=n,void 0===n?delete this.invalid[i.name]:(this.prepareElement(n),this.currentElements=t(n),s=this.check(n)!==!1,s?delete this.invalid[n.name]:this.invalid[n.name]=!0),t(e).attr("aria-invalid",!s),this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),s},showErrors:function(e){if(e){t.extend(this.errorMap,e),this.errorList=[];for(var i in e)this.errorList.push({message:e[i],element:this.findByName(i)[0]});this.successList=t.grep(this.successList,function(t){return!(t.name in e)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){t.fn.resetForm&&t(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass).removeData("previousValue").removeAttr("aria-invalid")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(t){var e,i=0;for(e in t)i++;return i},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{t(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(e){}},findLastActive:function(){var e=this.lastActive;return e&&1===t.grep(this.errorList,function(t){return t.element.name===e.name}).length&&e},elements:function(){var e=this,i={};return t(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return!this.name&&e.settings.debug&&window.console&&console.error("%o has no name assigned",this),!(this.name in i||!e.objectLength(t(this).rules()))&&(i[this.name]=!0,!0)})},clean:function(e){return t(e)[0]},errors:function(){var e=this.settings.errorClass.split(" ").join(".");return t(this.settings.errorElement+"."+e,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=t([]),this.toHide=t([]),this.currentElements=t([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(t){this.reset(),this.toHide=this.errorsFor(t)},elementValue:function(e){var i,n=t(e),s=n.attr("type");return"radio"===s||"checkbox"===s?t("input[name='"+n.attr("name")+"']:checked").val():(i=n.val(),"string"==typeof i?i.replace(/\r/g,""):i)},check:function(e){e=this.validationTargetFor(this.clean(e));var i,n,s,o=t(e).rules(),r=t.map(o,function(t,e){return e}).length,a=!1,l=this.elementValue(e);for(n in o){s={method:n,parameters:o[n]};try{if(i=t.validator.methods[n].call(this,l,e,s.parameters),"dependency-mismatch"===i&&1===r){a=!0;continue}if(a=!1,"pending"===i)return void(this.toHide=this.toHide.not(this.errorsFor(e)));if(!i)return this.formatAndAdd(e,s),!1}catch(c){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+e.id+", check the '"+s.method+"' method.",c),c}}if(!a)return this.objectLength(o)&&this.successList.push(e),!0},customDataMessage:function(e,i){return t(e).data("msg"+i[0].toUpperCase()+i.substring(1).toLowerCase())||t(e).data("msg")},customMessage:function(t,e){var i=this.settings.messages[t];return i&&(i.constructor===String?i:i[e])},findDefined:function(){for(var t=0;t<arguments.length;t++)if(void 0!==arguments[t])return arguments[t]},defaultMessage:function(e,i){return this.findDefined(this.customMessage(e.name,i),this.customDataMessage(e,i),!this.settings.ignoreTitle&&e.title||void 0,t.validator.messages[i],"<strong>Warning: No message defined for "+e.name+"</strong>")},formatAndAdd:function(e,i){var n=this.defaultMessage(e,i.method),s=/\$?\{(\d+)\}/g;"function"==typeof n?n=n.call(this,i.parameters,e):s.test(n)&&(n=t.validator.format(n.replace(s,"{$1}"),i.parameters)),this.errorList.push({message:n,element:e,method:i.method}),this.errorMap[e.name]=n,this.submitted[e.name]=n},addWrapper:function(t){return this.settings.wrapper&&(t=t.add(t.parent(this.settings.wrapper))),t},defaultShowErrors:function(){var t,e,i;for(t=0;this.errorList[t];t++)i=this.errorList[t],this.settings.highlight&&this.settings.highlight.call(this,i.element,this.settings.errorClass,this.settings.validClass),this.showLabel(i.element,i.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(t=0;this.successList[t];t++)this.showLabel(this.successList[t]);if(this.settings.unhighlight)for(t=0,e=this.validElements();e[t];t++)this.settings.unhighlight.call(this,e[t],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return t(this.errorList).map(function(){return this.element})},showLabel:function(e,i){var n=this.errorsFor(e);n.length?(n.removeClass(this.settings.validClass).addClass(this.settings.errorClass),n.html(i)):(n=t("<"+this.settings.errorElement+">").attr("for",this.idOrName(e)).addClass(this.settings.errorClass).html(i||""),this.settings.wrapper&&(n=n.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.append(n).length||(this.settings.errorPlacement?this.settings.errorPlacement(n,t(e)):n.insertAfter(e))),!i&&this.settings.success&&(n.text(""),"string"==typeof this.settings.success?n.addClass(this.settings.success):this.settings.success(n,e)),this.toShow=this.toShow.add(n)},errorsFor:function(e){var i=this.idOrName(e);return this.errors().filter(function(){return t(this).attr("for")===i})},idOrName:function(t){return this.groups[t.name]||(this.checkable(t)?t.name:t.id||t.name)},validationTargetFor:function(t){return this.checkable(t)&&(t=this.findByName(t.name).not(this.settings.ignore)[0]),t},checkable:function(t){return/radio|checkbox/i.test(t.type)},findByName:function(e){return t(this.currentForm).find("[name='"+e+"']")},getLength:function(e,i){switch(i.nodeName.toLowerCase()){case"select":return t("option:selected",i).length;case"input":if(this.checkable(i))return this.findByName(i.name).filter(":checked").length}return e.length},depend:function(t,e){return!this.dependTypes[typeof t]||this.dependTypes[typeof t](t,e)},dependTypes:{"boolean":function(t){return t},string:function(e,i){return!!t(e,i.form).length},"function":function(t,e){return t(e)}},optional:function(e){var i=this.elementValue(e);return!t.validator.methods.required.call(this,i,e)&&"dependency-mismatch"},startRequest:function(t){this.pending[t.name]||(this.pendingRequest++,this.pending[t.name]=!0)},stopRequest:function(e,i){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[e.name],i&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(t(this.currentForm).submit(),this.formSubmitted=!1):!i&&0===this.pendingRequest&&this.formSubmitted&&(t(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(e){return t.data(e,"previousValue")||t.data(e,"previousValue",{old:null,valid:!0,message:this.defaultMessage(e,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(e,i){e.constructor===String?this.classRuleSettings[e]=i:t.extend(this.classRuleSettings,e)},classRules:function(e){var i={},n=t(e).attr("class");return n&&t.each(n.split(" "),function(){this in t.validator.classRuleSettings&&t.extend(i,t.validator.classRuleSettings[this])}),i},attributeRules:function(e){var i,n,s={},o=t(e),r=e.getAttribute("type");for(i in t.validator.methods)"required"===i?(n=e.getAttribute(i),""===n&&(n=!0),n=!!n):n=o.attr(i),/min|max/.test(i)&&(null===r||/number|range|text/.test(r))&&(n=Number(n)),n||0===n?s[i]=n:r===i&&"range"!==r&&(s[i]=!0);return s.maxlength&&/-1|2147483647|524288/.test(s.maxlength)&&delete s.maxlength,s},dataRules:function(e){var i,n,s={},o=t(e);for(i in t.validator.methods)n=o.data("rule"+i[0].toUpperCase()+i.substring(1).toLowerCase()),void 0!==n&&(s[i]=n);return s},staticRules:function(e){var i={},n=t.data(e.form,"validator");return n.settings.rules&&(i=t.validator.normalizeRule(n.settings.rules[e.name])||{}),i},normalizeRules:function(e,i){return t.each(e,function(n,s){if(s===!1)return void delete e[n];if(s.param||s.depends){var o=!0;switch(typeof s.depends){case"string":o=!!t(s.depends,i.form).length;break;case"function":o=s.depends.call(i,i)}o?e[n]=void 0===s.param||s.param:delete e[n]}}),t.each(e,function(n,s){e[n]=t.isFunction(s)?s(i):s}),t.each(["minlength","maxlength"],function(){e[this]&&(e[this]=Number(e[this]))}),t.each(["rangelength","range"],function(){var i;e[this]&&(t.isArray(e[this])?e[this]=[Number(e[this][0]),Number(e[this][1])]:"string"==typeof e[this]&&(i=e[this].split(/[\s,]+/),e[this]=[Number(i[0]),Number(i[1])]))}),t.validator.autoCreateRanges&&(e.min&&e.max&&(e.range=[e.min,e.max],delete e.min,delete e.max),e.minlength&&e.maxlength&&(e.rangelength=[e.minlength,e.maxlength],delete e.minlength,delete e.maxlength)),e},normalizeRule:function(e){if("string"==typeof e){var i={};t.each(e.split(/\s/),function(){i[this]=!0}),e=i}return e},addMethod:function(e,i,n){t.validator.methods[e]=i,t.validator.messages[e]=void 0!==n?n:t.validator.messages[e],i.length<3&&t.validator.addClassRules(e,t.validator.normalizeRule(e))},methods:{required:function(e,i,n){if(!this.depend(n,i))return"dependency-mismatch";if("select"===i.nodeName.toLowerCase()){var s=t(i).val();return s&&s.length>0}return this.checkable(i)?this.getLength(e,i)>0:t.trim(e).length>0},email:function(t,e){return this.optional(e)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(t)},url:function(t,e){return this.optional(e)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(t)},date:function(t,e){return this.optional(e)||!/Invalid|NaN/.test(new Date(t).toString())},dateISO:function(t,e){return this.optional(e)||/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/.test(t)},number:function(t,e){return this.optional(e)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(t)},digits:function(t,e){return this.optional(e)||/^\d+$/.test(t)},creditcard:function(t,e){if(this.optional(e))return"dependency-mismatch";if(/[^0-9 \-]+/.test(t))return!1;var i,n,s=0,o=0,r=!1;if(t=t.replace(/\D/g,""),t.length<13||t.length>19)return!1;for(i=t.length-1;i>=0;i--)n=t.charAt(i),o=parseInt(n,10),r&&(o*=2)>9&&(o-=9),s+=o,r=!r;return s%10===0},minlength:function(e,i,n){var s=t.isArray(e)?e.length:this.getLength(t.trim(e),i);return this.optional(i)||s>=n},maxlength:function(e,i,n){var s=t.isArray(e)?e.length:this.getLength(t.trim(e),i);return this.optional(i)||s<=n},rangelength:function(e,i,n){var s=t.isArray(e)?e.length:this.getLength(t.trim(e),i);return this.optional(i)||s>=n[0]&&s<=n[1]},min:function(t,e,i){return this.optional(e)||t>=i},max:function(t,e,i){return this.optional(e)||t<=i},range:function(t,e,i){return this.optional(e)||t>=i[0]&&t<=i[1]},equalTo:function(e,i,n){var s=t(n);return this.settings.onfocusout&&s.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){t(i).valid()}),e===s.val()},remote:function(e,i,n){if(this.optional(i))return"dependency-mismatch";var s,o,r=this.previousValue(i);return this.settings.messages[i.name]||(this.settings.messages[i.name]={}),r.originalMessage=this.settings.messages[i.name].remote,this.settings.messages[i.name].remote=r.message,n="string"==typeof n&&{url:n}||n,r.old===e?r.valid:(r.old=e,s=this,this.startRequest(i),o={},o[i.name]=e,t.ajax(t.extend(!0,{url:n,mode:"abort",port:"validate"+i.name,dataType:"json",data:o,context:s.currentForm,success:function(n){var o,a,l,c=n===!0||"true"===n;s.settings.messages[i.name].remote=r.originalMessage,c?(l=s.formSubmitted,s.prepareElement(i),s.formSubmitted=l,s.successList.push(i),delete s.invalid[i.name],s.showErrors()):(o={},a=n||s.defaultMessage(i,"remote"),o[i.name]=r.message=t.isFunction(a)?a(e):a,s.invalid[i.name]=!0,s.showErrors(o)),r.valid=c,s.stopRequest(i,c)}},n)),"pending")}}}),t.format=function(){throw"$.format has been deprecated. Please use $.validator.format instead."}}(jQuery),function(t){var e,i={};t.ajaxPrefilter?t.ajaxPrefilter(function(t,e,n){var s=t.port;"abort"===t.mode&&(i[s]&&i[s].abort(),i[s]=n)}):(e=t.ajax,t.ajax=function(n){var s=("mode"in n?n:t.ajaxSettings).mode,o=("port"in n?n:t.ajaxSettings).port;
return"abort"===s?(i[o]&&i[o].abort(),i[o]=e.apply(this,arguments),i[o]):e.apply(this,arguments)})}(jQuery),function(t){t.extend(t.fn,{validateDelegate:function(e,i,n){return this.bind(i,function(i){var s=t(i.target);if(s.is(e))return n.apply(s,arguments)})}})}(jQuery),function(t){t.extend(t.validator.messages,{required:"Это поле необходимо заполнить.",remote:"Пожалуйста, введите правильное значение.",email:"Пожалуйста, введите корректный адрес электронной почты.",url:"Пожалуйста, введите корректный URL.",date:"Пожалуйста, введите корректную дату.",dateISO:"Пожалуйста, введите корректную дату в формате ISO.",number:"Пожалуйста, введите число.",digits:"Пожалуйста, вводите только цифры.",creditcard:"Пожалуйста, введите правильный номер кредитной карты.",equalTo:"Пожалуйста, введите такое же значение ещё раз.",extension:"Пожалуйста, выберите файл с правильным расширением.",maxlength:t.validator.format("Пожалуйста, введите не больше {0} символов."),minlength:t.validator.format("Пожалуйста, введите не меньше {0} символов."),rangelength:t.validator.format("Пожалуйста, введите значение длиной от {0} до {1} символов."),range:t.validator.format("Пожалуйста, введите число от {0} до {1}."),max:t.validator.format("Пожалуйста, введите число, меньшее или равное {0}."),min:t.validator.format("Пожалуйста, введите число, большее или равное {0}.")})}(jQuery),$measurer=function(){function t(){null==a&&(a=$("<div></div>").css("height","1em").css("left","0").css("lineHeight","1em").css("margin","0").css("position","absolute").css("padding","0").css("top","-1em").css("visibility","hidden").css("width","1em").appendTo("body"),s=a.height())}function e(){return s}function i(){t(),$(window).resize(n),s=a.height(),setInterval(function(){var t=a.height();t!=s&&(s=t,n())},r)}function n(){for(var t=0;t<o.length;t++)o[t]()}var s,o=[],r=500,a=null,l=!1,c=!1;return $(function(){c=!0,l&&i()}),{resize:n,bind:function(t){a||(l=!0,c&&i()),o.push(t)},unbind:function(t){for(var e=0;e<o.length;e++)o[e]==t&&o.splice(e,1)},getHeight:e,createBlock:t}}(),function(t,e,i,n){function s(e,i){this.element=e,this.$element=t(e),this.options=t.extend({},a,i),this._defaults=a,this._name=r,this._backup=t(e).clone(),this.total=!1,this.totalCount=!1,this.discount=0,this.backupMaket={},this.backupColors=[],this.backup=[],this.defColors=["#fff","#fff"],this.defProps={top:{tshirt:{colors:{"белый":"#fff","желтый":"#ffda00","оранжевый":"#ED6E1E","красный":"#D62631","голубой":"#5EBCEB","синий":"#164C90","темно-синий":"#2C387C","зеленый":"#308939","черный":"#2B2A29"}},neck:{colors:{"черный":"#000","розовый":"pink"}},sleeve:{colors:{"красный":"red","синий":"blue","зеленый":"green"}}}},this.defProt={top:{tshirt:{typeID:!1,color:[],price:!1},neck:{color:[]},sleeve:{color:[]},sideInserts:{color:[],insert:!1},sleeveInserts:{color:[],insert:!1}},bottom:{shorts:{typeID:!1,color:[],price:!1}}},this.orderRow={ID:!1,sername:!1,size:!1,longSleeves:!1,backSername:!1,shortsNumber:!1,backNumber:!1,chestNumber:!1,logo:!1},this.init()}function o(){var e=t(".tshirt-slider__wrapper"),i=t(".tshirt-slider__nav--next"),n=t(".tshirt-slider__nav--prev"),s=(t(".auto"),t(".tshirt-slider__wrapper li").outerWidth()),o=e.position().left-s;i.click(function(){e.is(":animated")||e.animate({left:o},500,function(){e.find("li:first").appendTo(e).parent().css({left:0})})}),n.click(function(){e.is(":animated")||e.css({left:o}).find("li:last").prependTo(e).parent().animate({left:0},500)})}var r="construct",a={afterStep:!1,afterInit:!1,callbacks:{onInitStart:!1,onInitEnd:!1,onPrepareSlide:!1,onResizeSlide:!1,onChangeSlide:!1,onImagesLoaded:!1,onSlidesLoaded:!1}},l=t(e).height(),c=t(e).width(),u=function(e){var i="";return t.each(e,function(t,e){var n='<button style="background: '+e+'" type="button" class="color-option" data-value="'+e+'"></button>';i+=n}),t(i)},h=function(t){var e=t,i=e.find(".checkbox-target"),n=e.find(".checkbox");n.prop("checked")?i.show():i.hide()};s.prototype.init=function(){var n=this;this.showLoader(),this.setDefColors(),this.backupMaket=this.defProt,t(".form-screen").eq(0).addClass("activeSection"),this.$element.on("click",".default-maket",function(){n.defProt=n.backupMaket,n.changeMaket(),n.defColors=n.backupColors,n.setDefColors()}),this.$element.on("click",".default-complects",function(){var e=t(this).closest("form").find("table").find("input");t.each(e,function(){"text"==t(this).attr("type")?t(this).val(" ").change():t(this).prop("checked",!1).change()})}),this.$element.on("click",".submitDiscount",function(){var e=t(this).parent().find("input").val();t.ajax({url:"/assets/snippets/saveorder/saveorder-ajax.php",type:"post",dataType:"JSON",data:{discount:e},success:function(e){if(1==e.result){n.discount=e.discount,n.recountTotal();var i=t('<div class="discount-block success">Успешно активирована скидка на <b>'+e.discount+"%</b></div>");n.$element.find(".discount-block").hide().after(i)}else n.$element.find(".discount-block").addClass("error")}})}),this.$element.on("click",".complects th",function(){var e=t(this).index(),i=t(".complects tr"),n=!t(this).hasClass("massChecked");t.each(i,function(i){i>0&&t(this).find("td").eq(e).find('input[type="checkbox"]').prop("checked",n).change()}),t(this).hasClass("massChecked")?t(this).removeClass("massChecked"):t(this).addClass("massChecked")});var s=this.$element.find(".checkbox-dyn");t.each(s,function(){h(t(this)),t(this).on("change",function(){h(t(this))})}),this.$element.on("change input",".digital-input",function(){var e=t(this);e.val(e.val().replace(/\D/g,""))}),t(i).on("click","#popup-select button",function(){n.popupSelect(t(this))}),t(i).on("click",".select-shorts button",function(){t(".select-shorts button").removeClass("active-button"),t(this).addClass("active-button")}),t(i).on("click",".select-tshirt button",function(){t(".select-tshirt button").removeClass("active-button"),t(this).addClass("active-button")}),this.$element.on("click",".finishOrder",function(){var i="",s=n.$element.find("form");t.each(s,function(){i=i+t(this).serialize()+"&"}),t(".orderInfo").valid()&&t.ajax({url:url,type:"post",dataType:"json",data:i,error:function(){swal("Ошибка","Произошла ошибка, попробуйте позже","error")},success:function(t){swal(t.msgHeader,t.msg,t.type),swal({title:t.msgHeader,text:t.msg,type:t.type,showCancelButton:!1,closeOnConfirm:!1,closeOnCancel:!1},function(t){e.location.href=baseUrl})}})}),this.makeDefProt(),this.$element.on("click",".pick-color",function(){n.pickColor(t(this))}),this.$element.find(".form-screen").eq(0).on("change","input, select",function(){n.makeDefProt()}),this.$element.find(".complects").on("change","input, select",function(){n.recountTotal()}),this.$element.on("click",".switch",function(){n.switchColors(t(this))}),this.$element.on("click",".complectsCountBtn",function(){n.changeComplectsCount()}),this.step1=this.$element.find(".step").eq(0).clone(!0),this.step2=this.$element.find(".step").eq(1).clone(!0),this.step1Svg=t("#top-svg").attr("d"),this.step2Svg=t("#bottom-svg").attr("d"),this.$element.on("click",".default-step-1",function(){var e=n.step1.clone(!0);n.$element.find(".step").eq(0).replaceWith(e),t("#top-svg").attr("d",n.step1Svg),n.makeDefProt(),d()}),this.$element.on("click",".default-step-2",function(){var e=n.step2.clone(!0);n.$element.find(".step").eq(1).replaceWith(e),t("#bottom-svg").attr("d",n.step2Svg),n.makeDefProt(),f()}),n.changeComplectsCount()},s.prototype.showLoader=function(){this.$element.find(".preview").addClass("loading")},s.prototype.hideLoader=function(){var t=this;setTimeout(function(){t.$element.find(".preview").removeClass("loading")},200)},s.prototype.changeComplectsCount=function(){var e=this,i=t(".complectsCount").val(),n=t(".complects").find("tr").length;if(i-1!=n){if(i<=n-1)for(var s=1;s<=n-1-i;s++)t(".complects").find("tr").last().remove();else for(var o=n;o<=i;o++){var r=e.createRow(o),a=t(r);t(".complects").append(a)}e.recountTotal()}},s.prototype.recountTotal=function(){var e=this,i=t(".complects").find(".itemRow"),n=i.length;totalCount=0,t.each(i,function(){var i=t(this),n=i.find("input"),s=0;t.each(n,function(){t(this).prop("checked")&&(s+=parseInt(t(this).attr("data-price")))});var o=e.total+s;o-=Math.floor(o*(e.discount/100)),totalCount+=o,i.find(".priceInput").val(o),i.find(".price").text(o)});var s="";s=1==n?n+" комплект":n>1&&n<5?n+" комплекта":n+" комплектов",e.$element.find(".total-price-input").val(totalCount),e.$element.find(".totalCountBtn").text(totalCount),e.$element.find(".complectsCountText").text(s)},s.prototype.createRow=function(t){var e='<option value="XS">XS</option><option value="S">S</option><option selected value="M">M</option><option value="L">L</option><option value="XL">XL</option><option value="2XL">2XL</option>',i='<tr class="itemRow"><td>'+t+'</td><td><input class="digital-input" name="complect['+t+'][number]" type="text"></td><td data-tooltip="Необходимо заполнить, если нужна фамилия на спине футболки"><input name="complect['+t+'][sername]" type="text"></td><td><div class="select-wrp qtip-link"><select  name="complect['+t+'][size]" id="">'+e+'</select></div></td><td data-tooltip="Нажмите заголовок, чтобы выделить всю колонку"><div class="inline-block"><input data-price="'+longSleeves+'" name="complect['+t+'][longSleeves]" type="checkbox" id="'+t+'__1" value="да"><label for="'+t+'__1"></label></div></td><td data-tooltip="Нажмите заголовок, чтобы выделить всю колонку"><div class="inline-block"><input data-price="'+backSername+'" name="complect['+t+'][backSername]" type="checkbox" id="'+t+'__2" value="да"><label for="'+t+'__2"></label></div></td><td data-tooltip="Нажмите заголовок, чтобы выделить всю колонку"><div class="inline-block"><input data-price="'+shirtNumber+'" name="complect['+t+'][shirtNumber]" type="checkbox" id="'+t+'__3" value="да" ><label for="'+t+'__3"></label></div></td><td data-tooltip="Нажмите заголовок, чтобы выделить всю колонку"><div class="inline-block"><input data-price="'+backNumber+'" name="complect['+t+'][backNumber]" type="checkbox" id="'+t+'__4" value="да"><label for="'+t+'__4"></label></div></td><td data-tooltip="Нажмите заголовок, чтобы выделить всю колонку"><div class="inline-block"><input data-price="'+breastNumber+'" name="complect['+t+'][breastNumber]" type="checkbox" id="'+t+'__5" value="да"><label for="'+t+'__5"></label></div></td><td data-tooltip="Нажмите заголовок, чтобы выделить всю колонку"><div class="inline-block"><input data-price="'+logo+'" name="complect['+t+'][logo]" type="checkbox" id="'+t+'__6" value="да"><label for="'+t+'__6"></label></div></td><td class="price-td"><input name="complect['+t+'][price]" type="hidden" class="priceInput"><span class="price">1 260</span>&nbsp;.-</td></tr>';return i},s.prototype.popupSelect=function(e){var i=this;this.showLoader();var n=e.attr("data-url"),s=e.attr("data-id");t.ajax({url:n,type:"get",data:{},success:function(n){console.log(n);var o,r;r=e.closest("#popup-select").attr("data-target"),t(".preview").find("svg").find("#"+r+"-svg").attr("d",n),o=e.find("img").attr("src"),t("."+r+"-img").attr("src",o),t("."+r+"-img-inp").attr("value",o),t("."+r+"-input").attr("value",s),i.changeMaket()}})},s.prototype.setDefColors=function(){var e=this.$element.find(".color-block"),i=this;t.each(e,function(){var e=t(this),n=e.index(),s=e.find("input"),o=e.find(".pick-color");if(!o.hasClass("setted")){var r=e.closest(".rowJS");r.hasClass("thirt")?color=0==n?i.defColors[0]:i.defColors[1]:r.hasClass("sleeves")?color=i.defColors[0]:r.hasClass("neck")?color=i.defColors[1]:r.hasClass("shirtInserts")?color=i.defColors[1]:r.hasClass("shorts")&&(color=0==n?i.defColors[0]:i.defColors[1]),s.val(color),e.addClass("setted").find(".color").css({backgroundColor:color})}})},s.prototype.makeDefProt=function(){var e=this,i=e.$element.find(".fpc-section");e.showLoader(),t.each(i,function(){var i=t(this),n=i.attr("data-section"),s=i.serializeJSON();e.defProt[n]=s[n]}),e.total=0,t.each(e.defProt,function(t,i){e.totalPrice(t,i)}),this.changeMaket(),this.$element.find(".price").find(".complectPrice").text(e.total)},s.prototype.changeMaket=function(){var e,i,n,s,o,r,a,l,c=this,u=t(".preview");e=u.find(".fil2"),i=u.find(".fil3"),n=u.find(".fil0"),s=u.find(".fil6"),o=u.find(".fil5"),$sleeveInserts=u.find(".fil4"),r=u.find(".fil7"),a=u.find(".fil9"),l=u.find(".fil1"),$neck=u.find(".fil6"),"AS44"==t(".top-input").attr("value")?(t(".extra-color").css("opacity","0.5"),t(".extra-color").find("button").attr("disabled",!0)):(t(".extra-color").css("opacity","1"),t(".extra-color").find("button").attr("disabled",!1));var h="#888",d="#fff"==c.defProt.bottom.shorts.color[0]?h:c.defProt.bottom.shorts.color[0];r.css({fill:c.defProt.bottom.shorts.color[0],stroke:d,"stroke-width":80});"#fff"==c.defProt.bottom.shorts.color[0]?h:c.defProt.bottom.shorts.color[1];a.css({fill:c.defProt.bottom.shorts.color[1],stroke:d,"stroke-width":80});var f="#fff"==c.defProt.top.sleeve.color[0]?h:c.defProt.top.sleeve.color[0];e.css({fill:c.defProt.top.sleeve.color[0],stroke:f,"stroke-width":80});var p="#fff"==c.defProt.top.sleeve.color[1]?h:c.defProt.top.sleeve.color[1];i.css({fill:c.defProt.top.sleeve.color[1],stroke:p,"stroke-width":80});var m="#fff"==c.defProt.top.tshirt.color[0]?h:c.defProt.top.tshirt.color[0];n.css({fill:c.defProt.top.tshirt.color[0],stroke:m,"stroke-width":80});var g="#fff"==c.defProt.top.tshirt.color[1]?h:c.defProt.top.tshirt.color[1];l.css({fill:c.defProt.top.tshirt.color[1],stroke:g,"stroke-width":80});var v="#fff"==c.defProt.top.neck.color[0]?h:c.defProt.top.neck.color[0];console.log(v,c.defProt.top.neck.color[0]),$neck.css({fill:c.defProt.top.neck.color[0],stroke:"#888","stroke-width":80}),"true"===c.defProt.top.sideInserts.insert?o.css({fill:c.defProt.top.sideInserts.color[0]}):(o.css({fill:"none"}),o.css({stroke:c.defProt.top.tshirt.color[0]})),"true"==c.defProt.top.sleeveInserts.insert?$sleeveInserts.css({fill:c.defProt.top.sleeveInserts.color[0]}):($sleeveInserts.css({fill:"none"}),$sleeveInserts.css({stroke:c.defProt.top.tshirt.color[0]})),c.hideLoader()},s.prototype.totalPrice=function(e,i){var n=this;"price"==e&&i&&(n.total=n.total+parseInt(i)),value=i,value instanceof Object&&t.each(value,function(t,e){n.totalPrice(t,e)})},s.prototype.switchColors=function(t){var e,i,n,s;e=t.next(),i=t.prev(),n=e.find(".title").text(),s=i.find(".title").text(),t.before(e),t.after(i),i.find(".title").text(n),e.find(".title").text(s),e.find("input").change()},s.prototype.pickColor=function(e){var i,n,s,o,r,a,l,c;i=this,n=e.attr("data-source"),s=n.split("::"),o=this.defProps;for(var h=0;h<=s.length-1;h++){var d=s[h];o=o[d]}r=o.colors,a=u(r),l=t('<div class="color-popup"></div>'),l.append(a),c=e.closest(".color-block"),c.hasClass("opened")?c.removeClass("opened").find(".color-popup").remove():(l.hide(),c.addClass("opened").append(l),l.fadeIn(200,function(){t("body").on("click",f)}));var f=function(e){l.is(e.target)||0!==l.has(e.target).length||(c.removeClass("opened").find(".color-popup").remove(),t("body").off("click",f))};l.on("click",".color-option",function(){var i=t(this).attr("data-value"),n=t(this).closest(".color-block"),s=n.find("input");n.removeClass("opened"),t("body").off("click",f),s.val(i).change(),l.remove(),e.addClass("setted").find(".color").css({backgroundColor:i})})},s.prototype.destroy=function(){this.$element.replaceWith(this._backup),t.data(this,"plugin_"+r,null)},s.prototype.reInit=function(){var e=this;this.$element.replaceWith(this._backup),t.data(this._backup,"plugin_"+e._name,new s(this._backup,e.options))},s.prototype.update=function(){var i=this.$sRoll.find(this.options.slide),n=this,s=this.$current.index();l=t(e).height(),c=t(e).width(),t.each(i,function(){var e=t(this).find("img");n.resizeSlide(t(this),e)}),this.goToSlide(s,!0)},t.fn[r]=function(e){var i=arguments;if(e===n||"object"==typeof e)return this.each(function(){t.data(this,"plugin_"+r)||t.data(this,"plugin_"+r,new s(this,e))});if("string"==typeof e&&"_"!==e[0]&&"init"!==e){var o;return this.each(function(){var n=t.data(this,"plugin_"+r);n instanceof s&&"function"==typeof n[e]&&(o=n[e].apply(n,Array.prototype.slice.call(i,1)))}),o!==n?o:this}},t(i).ready(function(){f(),d()});var d=function(){t(".tshirt-slider__items").load("top.html",function(){t(".tshirt-slider__items").find("ul").addClass("tshirt-slider__wrapper"),o()})},f=function(){t(".select-shorts").load("bottom.html")}}(jQuery,window,document),function(t,e,i){!function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):jQuery&&!jQuery.fn.qtip&&t(jQuery)}(function(n){"use strict";function s(t,e,i,s){this.id=i,this.target=t,this.tooltip=_,this.elements={target:t},this._id=L+"-"+i,this.timers={img:{}},this.options=e,this.plugins={},this.cache={event:{},target:n(),disabled:F,attr:s,onTooltip:F,lastClass:""},this.rendered=this.destroyed=this.disabled=this.waiting=this.hiddenDuringWait=this.positioning=this.triggering=F}function o(t){return t===_||"object"!==n.type(t)}function r(t){return!(n.isFunction(t)||t&&t.attr||t.length||"object"===n.type(t)&&(t.jquery||t.then))}function a(t){var e,i,s,a;return o(t)?F:(o(t.metadata)&&(t.metadata={type:t.metadata}),"content"in t&&(e=t.content,o(e)||e.jquery||e.done?e=t.content={text:i=r(e)?F:e}:i=e.text,"ajax"in e&&(s=e.ajax,a=s&&s.once!==F,delete e.ajax,e.text=function(t,e){var o=i||n(this).attr(e.options.content.attr)||"Loading...",r=n.ajax(n.extend({},s,{context:e})).then(s.success,_,s.error).then(function(t){return t&&a&&e.set("content.text",t),t},function(t,i,n){e.destroyed||0===t.status||e.set("content.text",i+": "+n)});return a?o:(e.set("content.text",o),r)}),"title"in e&&(n.isPlainObject(e.title)&&(e.button=e.title.button,e.title=e.title.text),r(e.title||F)&&(e.title=F))),"position"in t&&o(t.position)&&(t.position={my:t.position,at:t.position}),"show"in t&&o(t.show)&&(t.show=t.show.jquery?{target:t.show}:t.show===C?{ready:C}:{event:t.show}),"hide"in t&&o(t.hide)&&(t.hide=t.hide.jquery?{target:t.hide}:{event:t.hide}),"style"in t&&o(t.style)&&(t.style={classes:t.style}),n.each(j,function(){this.sanitize&&this.sanitize(t)}),t)}function l(t,e){for(var i,n=0,s=t,o=e.split(".");s=s[o[n++]];)n<o.length&&(i=s);return[i||t,o.pop()]}function c(t,e){var i,n,s;for(i in this.checks)for(n in this.checks[i])(s=new RegExp(n,"i").exec(t))&&(e.push(s),("builtin"===i||this.plugins[i])&&this.checks[i][n].apply(this.plugins[i]||this,e))}function u(t){return z.concat("").join(t?"-"+t+" ":" ")}function h(t,e){return e>0?setTimeout(n.proxy(t,this),e):void t.call(this)}function d(t){this.tooltip.hasClass(H)||(clearTimeout(this.timers.show),clearTimeout(this.timers.hide),this.timers.show=h.call(this,function(){this.toggle(C,t)},this.options.show.delay))}function f(t){if(!this.tooltip.hasClass(H)&&!this.destroyed){var e=n(t.relatedTarget),i=e.closest(N)[0]===this.tooltip[0],s=e[0]===this.options.show.target[0];if(clearTimeout(this.timers.show),clearTimeout(this.timers.hide),this!==e[0]&&"mouse"===this.options.position.target&&i||this.options.hide.fixed&&/mouse(out|leave|move)/.test(t.type)&&(i||s))try{t.preventDefault(),t.stopImmediatePropagation()}catch(o){}else this.timers.hide=h.call(this,function(){this.toggle(F,t)},this.options.hide.delay,this)}}function p(t){!this.tooltip.hasClass(H)&&this.options.hide.inactive&&(clearTimeout(this.timers.inactive),this.timers.inactive=h.call(this,function(){this.hide(t)},this.options.hide.inactive))}function m(t){this.rendered&&this.tooltip[0].offsetWidth>0&&this.reposition(t)}function g(t,i,s){n(e.body).delegate(t,(i.split?i:i.join("."+L+" "))+"."+L,function(){var t=y.api[n.attr(this,P)];t&&!t.disabled&&s.apply(t,arguments)})}function v(t,i,o){var r,l,c,u,h,d=n(e.body),f=t[0]===e?d:t,p=t.metadata?t.metadata(o.metadata):_,m="html5"===o.metadata.type&&p?p[o.metadata.name]:_,g=t.data(o.metadata.name||"qtipopts");try{g="string"==typeof g?n.parseJSON(g):g}catch(v){}if(u=n.extend(C,{},y.defaults,o,"object"==typeof g?a(g):_,a(m||p)),l=u.position,u.id=i,"boolean"==typeof u.content.text){if(c=t.attr(u.content.attr),u.content.attr===F||!c)return F;u.content.text=c}if(l.container.length||(l.container=d),l.target===F&&(l.target=f),u.show.target===F&&(u.show.target=f),u.show.solo===C&&(u.show.solo=l.container.closest("body")),u.hide.target===F&&(u.hide.target=f),u.position.viewport===C&&(u.position.viewport=l.container),l.container=l.container.eq(0),l.at=new k(l.at,C),l.my=new k(l.my),t.data(L))if(u.overwrite)t.qtip("destroy",!0);else if(u.overwrite===F)return F;return t.attr(M,i),u.suppress&&(h=t.attr("title"))&&t.removeAttr("title").attr(V,h).attr("title",""),r=new s(t,u,i,(!!c)),t.data(L,r),r}var y,b,k,w,x,C=!0,F=!1,_=null,S="x",E="y",A="top",T="left",q="bottom",I="right",D="center",j={},L="qtip",M="data-hasqtip",P="data-qtip-id",z=["ui-widget","ui-tooltip"],N="."+L,O="click dblclick mousedown mouseup mousemove mouseleave mouseenter".split(" "),B=L+"-fixed",$=L+"-default",R=L+"-focus",W=L+"-hover",H=L+"-disabled",U="_replacedByqTip",V="oldtitle",J={ie:function(){for(var t=4,i=e.createElement("div");(i.innerHTML="<!--[if gt IE "+t+"]><i></i><![endif]-->")&&i.getElementsByTagName("i")[0];t+=1);return t>4?t:NaN}(),iOS:parseFloat((""+(/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))||F};b=s.prototype,b._when=function(t){return n.when.apply(n,t)},b.render=function(t){if(this.rendered||this.destroyed)return this;var e,i=this,s=this.options,o=this.cache,r=this.elements,a=s.content.text,l=s.content.title,c=s.content.button,u=s.position,h=("."+this._id+" ",[]);return n.attr(this.target[0],"aria-describedby",this._id),o.posClass=this._createPosClass((this.position={my:u.my,at:u.at}).my),this.tooltip=r.tooltip=e=n("<div/>",{id:this._id,"class":[L,$,s.style.classes,o.posClass].join(" "),width:s.style.width||"",height:s.style.height||"",tracking:"mouse"===u.target&&u.adjust.mouse,role:"alert","aria-live":"polite","aria-atomic":F,"aria-describedby":this._id+"-content","aria-hidden":C}).toggleClass(H,this.disabled).attr(P,this.id).data(L,this).appendTo(u.container).append(r.content=n("<div />",{"class":L+"-content",id:this._id+"-content","aria-atomic":C})),this.rendered=-1,this.positioning=C,l&&(this._createTitle(),n.isFunction(l)||h.push(this._updateTitle(l,F))),c&&this._createButton(),n.isFunction(a)||h.push(this._updateContent(a,F)),this.rendered=C,this._setWidget(),n.each(j,function(t){var e;"render"===this.initialize&&(e=this(i))&&(i.plugins[t]=e)}),this._unassignEvents(),this._assignEvents(),this._when(h).then(function(){i._trigger("render"),i.positioning=F,i.hiddenDuringWait||!s.show.ready&&!t||i.toggle(C,o.event,F),i.hiddenDuringWait=F}),y.api[this.id]=this,this},b.destroy=function(t){function e(){if(!this.destroyed){this.destroyed=C;var t,e=this.target,i=e.attr(V);this.rendered&&this.tooltip.stop(1,0).find("*").remove().end().remove(),n.each(this.plugins,function(t){this.destroy&&this.destroy()});for(t in this.timers)clearTimeout(this.timers[t]);e.removeData(L).removeAttr(P).removeAttr(M).removeAttr("aria-describedby"),this.options.suppress&&i&&e.attr("title",i).removeAttr(V),this._unassignEvents(),this.options=this.elements=this.cache=this.timers=this.plugins=this.mouse=_,delete y.api[this.id]}}return this.destroyed?this.target:(t===C&&"hide"!==this.triggering||!this.rendered?e.call(this):(this.tooltip.one("tooltiphidden",n.proxy(e,this)),!this.triggering&&this.hide()),this.target)},w=b.checks={builtin:{"^id$":function(t,e,i,s){var o=i===C?y.nextid:i,r=L+"-"+o;o!==F&&o.length>0&&!n("#"+r).length?(this._id=r,this.rendered&&(this.tooltip[0].id=this._id,this.elements.content[0].id=this._id+"-content",this.elements.title[0].id=this._id+"-title")):t[e]=s},"^prerender":function(t,e,i){i&&!this.rendered&&this.render(this.options.show.ready)},"^content.text$":function(t,e,i){this._updateContent(i)},"^content.attr$":function(t,e,i,n){this.options.content.text===this.target.attr(n)&&this._updateContent(this.target.attr(i))},"^content.title$":function(t,e,i){return i?(i&&!this.elements.title&&this._createTitle(),void this._updateTitle(i)):this._removeTitle()},"^content.button$":function(t,e,i){this._updateButton(i)},"^content.title.(text|button)$":function(t,e,i){this.set("content."+e,i)},"^position.(my|at)$":function(t,e,i){"string"==typeof i&&(this.position[e]=t[e]=new k(i,"at"===e))},"^position.container$":function(t,e,i){this.rendered&&this.tooltip.appendTo(i)},"^show.ready$":function(t,e,i){i&&(!this.rendered&&this.render(C)||this.toggle(C))},"^style.classes$":function(t,e,i,n){this.rendered&&this.tooltip.removeClass(n).addClass(i)},"^style.(width|height)":function(t,e,i){this.rendered&&this.tooltip.css(e,i)},"^style.widget|content.title":function(){this.rendered&&this._setWidget()},"^style.def":function(t,e,i){this.rendered&&this.tooltip.toggleClass($,!!i)},"^events.(render|show|move|hide|focus|blur)$":function(t,e,i){this.rendered&&this.tooltip[(n.isFunction(i)?"":"un")+"bind"]("tooltip"+e,i)},"^(show|hide|position).(event|target|fixed|inactive|leave|distance|viewport|adjust)":function(){if(this.rendered){var t=this.options.position;this.tooltip.attr("tracking","mouse"===t.target&&t.adjust.mouse),this._unassignEvents(),this._assignEvents()}}}},b.get=function(t){if(this.destroyed)return this;var e=l(this.options,t.toLowerCase()),i=e[0][e[1]];return i.precedance?i.string():i};var K=/^position\.(my|at|adjust|target|container|viewport)|style|content|show\.ready/i,X=/^prerender|show\.ready/i;b.set=function(t,e){if(this.destroyed)return this;var i,s=this.rendered,o=F,r=this.options;this.checks;return"string"==typeof t?(i=t,t={},t[i]=e):t=n.extend({},t),n.each(t,function(e,i){if(s&&X.test(e))return void delete t[e];var a,c=l(r,e.toLowerCase());a=c[0][c[1]],c[0][c[1]]=i&&i.nodeType?n(i):i,o=K.test(e)||o,t[e]=[c[0],c[1],i,a]}),a(r),this.positioning=C,n.each(t,n.proxy(c,this)),this.positioning=F,this.rendered&&this.tooltip[0].offsetWidth>0&&o&&this.reposition("mouse"===r.position.target?_:this.cache.event),this},b._update=function(t,e,i){var s=this,o=this.cache;return this.rendered&&t?(n.isFunction(t)&&(t=t.call(this.elements.target,o.event,this)||""),n.isFunction(t.then)?(o.waiting=C,t.then(function(t){return o.waiting=F,s._update(t,e)},_,function(t){return s._update(t,e)})):t===F||!t&&""!==t?F:(t.jquery&&t.length>0?e.empty().append(t.css({display:"block",visibility:"visible"})):e.html(t),this._waitForContent(e).then(function(t){s.rendered&&s.tooltip[0].offsetWidth>0&&s.reposition(o.event,!t.length)}))):F},b._waitForContent=function(t){var e=this.cache;return e.waiting=C,(n.fn.imagesLoaded?t.imagesLoaded():n.Deferred().resolve([])).done(function(){e.waiting=F}).promise()},b._updateContent=function(t,e){this._update(t,this.elements.content,e)},b._updateTitle=function(t,e){this._update(t,this.elements.title,e)===F&&this._removeTitle(F)},b._createTitle=function(){var t=this.elements,e=this._id+"-title";t.titlebar&&this._removeTitle(),t.titlebar=n("<div />",{"class":L+"-titlebar "+(this.options.style.widget?u("header"):"")}).append(t.title=n("<div />",{id:e,"class":L+"-title","aria-atomic":C})).insertBefore(t.content).delegate(".qtip-close","mousedown keydown mouseup keyup mouseout",function(t){n(this).toggleClass("ui-state-active ui-state-focus","down"===t.type.substr(-4))}).delegate(".qtip-close","mouseover mouseout",function(t){n(this).toggleClass("ui-state-hover","mouseover"===t.type)}),this.options.content.button&&this._createButton()},b._removeTitle=function(t){var e=this.elements;e.title&&(e.titlebar.remove(),e.titlebar=e.title=e.button=_,t!==F&&this.reposition())},b._createPosClass=function(t){return L+"-pos-"+(t||this.options.position.my).abbrev()},b.reposition=function(i,s){if(!this.rendered||this.positioning||this.destroyed)return this;this.positioning=C;var o,r,a,l,c=this.cache,u=this.tooltip,h=this.options.position,d=h.target,f=h.my,p=h.at,m=h.viewport,g=h.container,v=h.adjust,y=v.method.split(" "),b=u.outerWidth(F),k=u.outerHeight(F),w=0,x=0,_=u.css("position"),S={left:0,top:0},E=u[0].offsetWidth>0,L=i&&"scroll"===i.type,M=n(t),P=g[0].ownerDocument,z=this.mouse;if(n.isArray(d)&&2===d.length)p={x:T,y:A},S={left:d[0],top:d[1]};else if("mouse"===d)p={x:T,y:A},(!v.mouse||this.options.hide.distance)&&c.origin&&c.origin.pageX?i=c.origin:!i||i&&("resize"===i.type||"scroll"===i.type)?i=c.event:z&&z.pageX&&(i=z),"static"!==_&&(S=g.offset()),P.body.offsetWidth!==(t.innerWidth||P.documentElement.clientWidth)&&(r=n(e.body).offset()),S={left:i.pageX-S.left+(r&&r.left||0),top:i.pageY-S.top+(r&&r.top||0)},v.mouse&&L&&z&&(S.left-=(z.scrollX||0)-M.scrollLeft(),S.top-=(z.scrollY||0)-M.scrollTop());else{if("event"===d?i&&i.target&&"scroll"!==i.type&&"resize"!==i.type?c.target=n(i.target):i.target||(c.target=this.elements.target):"event"!==d&&(c.target=n(d.jquery?d:this.elements.target)),d=c.target,d=n(d).eq(0),0===d.length)return this;d[0]===e||d[0]===t?(w=J.iOS?t.innerWidth:d.width(),x=J.iOS?t.innerHeight:d.height(),d[0]===t&&(S={top:(m||d).scrollTop(),left:(m||d).scrollLeft()})):j.imagemap&&d.is("area")?o=j.imagemap(this,d,p,j.viewport?y:F):j.svg&&d&&d[0].ownerSVGElement?o=j.svg(this,d,p,j.viewport?y:F):(w=d.outerWidth(F),x=d.outerHeight(F),S=d.offset()),o&&(w=o.width,x=o.height,r=o.offset,S=o.position),S=this.reposition.offset(d,S,g),(J.iOS>3.1&&J.iOS<4.1||J.iOS>=4.3&&J.iOS<4.33||!J.iOS&&"fixed"===_)&&(S.left-=M.scrollLeft(),S.top-=M.scrollTop()),(!o||o&&o.adjustable!==F)&&(S.left+=p.x===I?w:p.x===D?w/2:0,S.top+=p.y===q?x:p.y===D?x/2:0)}return S.left+=v.x+(f.x===I?-b:f.x===D?-b/2:0),S.top+=v.y+(f.y===q?-k:f.y===D?-k/2:0),j.viewport?(a=S.adjusted=j.viewport(this,S,h,w,x,b,k),r&&a.left&&(S.left+=r.left),r&&a.top&&(S.top+=r.top),a.my&&(this.position.my=a.my)):S.adjusted={left:0,top:0},c.posClass!==(l=this._createPosClass(this.position.my))&&u.removeClass(c.posClass).addClass(c.posClass=l),this._trigger("move",[S,m.elem||m],i)?(delete S.adjusted,s===F||!E||isNaN(S.left)||isNaN(S.top)||"mouse"===d||!n.isFunction(h.effect)?u.css(S):n.isFunction(h.effect)&&(h.effect.call(u,this,n.extend({},S)),u.queue(function(t){n(this).css({opacity:"",height:""}),J.ie&&this.style.removeAttribute("filter"),t()})),this.positioning=F,this):this},b.reposition.offset=function(t,i,s){function o(t,e){i.left+=e*t.scrollLeft(),i.top+=e*t.scrollTop()}if(!s[0])return i;var r,a,l,c,u=n(t[0].ownerDocument),h=!!J.ie&&"CSS1Compat"!==e.compatMode,d=s[0];do"static"!==(a=n.css(d,"position"))&&("fixed"===a?(l=d.getBoundingClientRect(),o(u,-1)):(l=n(d).position(),l.left+=parseFloat(n.css(d,"borderLeftWidth"))||0,l.top+=parseFloat(n.css(d,"borderTopWidth"))||0),i.left-=l.left+(parseFloat(n.css(d,"marginLeft"))||0),i.top-=l.top+(parseFloat(n.css(d,"marginTop"))||0),r||"hidden"===(c=n.css(d,"overflow"))||"visible"===c||(r=n(d)));while(d=d.offsetParent);return r&&(r[0]!==u[0]||h)&&o(r,1),i};var Q=(k=b.reposition.Corner=function(t,e){t=(""+t).replace(/([A-Z])/," $1").replace(/middle/gi,D).toLowerCase(),this.x=(t.match(/left|right/i)||t.match(/center/)||["inherit"])[0].toLowerCase(),this.y=(t.match(/top|bottom|center/i)||["inherit"])[0].toLowerCase(),this.forceY=!!e;var i=t.charAt(0);this.precedance="t"===i||"b"===i?E:S}).prototype;Q.invert=function(t,e){this[t]=this[t]===T?I:this[t]===I?T:e||this[t]},Q.string=function(t){var e=this.x,i=this.y,n=e!==i?"center"===e||"center"!==i&&(this.precedance===E||this.forceY)?[i,e]:[e,i]:[e];return t!==!1?n.join(" "):n},Q.abbrev=function(){var t=this.string(!1);return t[0].charAt(0)+(t[1]&&t[1].charAt(0)||"")},Q.clone=function(){return new k(this.string(),this.forceY)},b.toggle=function(t,i){var s=this.cache,o=this.options,r=this.tooltip;if(i){if(/over|enter/.test(i.type)&&s.event&&/out|leave/.test(s.event.type)&&o.show.target.add(i.target).length===o.show.target.length&&r.has(i.relatedTarget).length)return this;s.event=n.event.fix(i)}if(this.waiting&&!t&&(this.hiddenDuringWait=C),!this.rendered)return t?this.render(1):this;if(this.destroyed||this.disabled)return this;var a,l,c,u=t?"show":"hide",h=this.options[u],d=(this.options[t?"hide":"show"],
this.options.position),f=this.options.content,p=this.tooltip.css("width"),m=this.tooltip.is(":visible"),g=t||1===h.target.length,v=!i||h.target.length<2||s.target[0]===i.target;return(typeof t).search("boolean|number")&&(t=!m),a=!r.is(":animated")&&m===t&&v,l=a?_:!!this._trigger(u,[90]),this.destroyed?this:(l!==F&&t&&this.focus(i),!l||a?this:(n.attr(r[0],"aria-hidden",!t),t?(this.mouse&&(s.origin=n.event.fix(this.mouse)),n.isFunction(f.text)&&this._updateContent(f.text,F),n.isFunction(f.title)&&this._updateTitle(f.title,F),!x&&"mouse"===d.target&&d.adjust.mouse&&(n(e).bind("mousemove."+L,this._storeMouse),x=C),p||r.css("width",r.outerWidth(F)),this.reposition(i,arguments[2]),p||r.css("width",""),h.solo&&("string"==typeof h.solo?n(h.solo):n(N,h.solo)).not(r).not(h.target).qtip("hide",n.Event("tooltipsolo"))):(clearTimeout(this.timers.show),delete s.origin,x&&!n(N+'[tracking="true"]:visible',h.solo).not(r).length&&(n(e).unbind("mousemove."+L),x=F),this.blur(i)),c=n.proxy(function(){t?(J.ie&&r[0].style.removeAttribute("filter"),r.css("overflow",""),"string"==typeof h.autofocus&&n(this.options.show.autofocus,r).focus(),this.options.show.target.trigger("qtip-"+this.id+"-inactive")):r.css({display:"",visibility:"",opacity:"",left:"",top:""}),this._trigger(t?"visible":"hidden")},this),h.effect===F||g===F?(r[u](),c()):n.isFunction(h.effect)?(r.stop(1,1),h.effect.call(r,this),r.queue("fx",function(t){c(),t()})):r.fadeTo(90,t?1:0,c),t&&h.target.trigger("qtip-"+this.id+"-inactive"),this))},b.show=function(t){return this.toggle(C,t)},b.hide=function(t){return this.toggle(F,t)},b.focus=function(t){if(!this.rendered||this.destroyed)return this;var e=n(N),i=this.tooltip,s=parseInt(i[0].style.zIndex,10),o=y.zindex+e.length;return i.hasClass(R)||this._trigger("focus",[o],t)&&(s!==o&&(e.each(function(){this.style.zIndex>s&&(this.style.zIndex=this.style.zIndex-1)}),e.filter("."+R).qtip("blur",t)),i.addClass(R)[0].style.zIndex=o),this},b.blur=function(t){return!this.rendered||this.destroyed?this:(this.tooltip.removeClass(R),this._trigger("blur",[this.tooltip.css("zIndex")],t),this)},b.disable=function(t){return this.destroyed?this:("toggle"===t?t=!(this.rendered?this.tooltip.hasClass(H):this.disabled):"boolean"!=typeof t&&(t=C),this.rendered&&this.tooltip.toggleClass(H,t).attr("aria-disabled",t),this.disabled=!!t,this)},b.enable=function(){return this.disable(F)},b._createButton=function(){var t=this,e=this.elements,i=e.tooltip,s=this.options.content.button,o="string"==typeof s,r=o?s:"Close tooltip";e.button&&e.button.remove(),s.jquery?e.button=s:e.button=n("<a />",{"class":"qtip-close "+(this.options.style.widget?"":L+"-icon"),title:r,"aria-label":r}).prepend(n("<span />",{"class":"ui-icon ui-icon-close",html:"&times;"})),e.button.appendTo(e.titlebar||i).attr("role","button").click(function(e){return i.hasClass(H)||t.hide(e),F})},b._updateButton=function(t){if(!this.rendered)return F;var e=this.elements.button;t?this._createButton():e.remove()},b._setWidget=function(){var t=this.options.style.widget,e=this.elements,i=e.tooltip,n=i.hasClass(H);i.removeClass(H),H=t?"ui-state-disabled":"qtip-disabled",i.toggleClass(H,n),i.toggleClass("ui-helper-reset "+u(),t).toggleClass($,this.options.style.def&&!t),e.content&&e.content.toggleClass(u("content"),t),e.titlebar&&e.titlebar.toggleClass(u("header"),t),e.button&&e.button.toggleClass(L+"-icon",!t)},b._storeMouse=function(t){return(this.mouse=n.event.fix(t)).type="mousemove",this},b._bind=function(t,e,i,s,o){if(t&&i&&e.length){var r="."+this._id+(s?"-"+s:"");return n(t).bind((e.split?e:e.join(r+" "))+r,n.proxy(i,o||this)),this}},b._unbind=function(t,e){return t&&n(t).unbind("."+this._id+(e?"-"+e:"")),this},b._trigger=function(t,e,i){var s=n.Event("tooltip"+t);return s.originalEvent=i&&n.extend({},i)||this.cache.event||_,this.triggering=t,this.tooltip.trigger(s,[this].concat(e||[])),this.triggering=F,!s.isDefaultPrevented()},b._bindEvents=function(t,e,i,s,o,r){var a=i.filter(s).add(s.filter(i)),l=[];a.length&&(n.each(e,function(e,i){var s=n.inArray(i,t);s>-1&&l.push(t.splice(s,1)[0])}),l.length&&(this._bind(a,l,function(t){var e=!!this.rendered&&this.tooltip[0].offsetWidth>0;(e?r:o).call(this,t)}),i=i.not(a),s=s.not(a))),this._bind(i,t,o),this._bind(s,e,r)},b._assignInitialEvents=function(t){function e(t){return this.disabled||this.destroyed?F:(this.cache.event=t&&n.event.fix(t),this.cache.target=t&&n(t.target),clearTimeout(this.timers.show),void(this.timers.show=h.call(this,function(){this.render("object"==typeof t||i.show.ready)},i.prerender?0:i.show.delay)))}var i=this.options,s=i.show.target,o=i.hide.target,r=i.show.event?n.trim(""+i.show.event).split(" "):[],a=i.hide.event?n.trim(""+i.hide.event).split(" "):[];this._bind(this.elements.target,["remove","removeqtip"],function(t){this.destroy(!0)},"destroy"),/mouse(over|enter)/i.test(i.show.event)&&!/mouse(out|leave)/i.test(i.hide.event)&&a.push("mouseleave"),this._bind(s,"mousemove",function(t){this._storeMouse(t),this.cache.onTarget=C}),this._bindEvents(r,a,s,o,e,function(){return this.timers?void clearTimeout(this.timers.show):F}),(i.show.ready||i.prerender)&&e.call(this,t)},b._assignEvents=function(){var i=this,s=this.options,o=s.position,r=this.tooltip,a=s.show.target,l=s.hide.target,c=o.container,u=o.viewport,h=n(e),g=(n(e.body),n(t)),v=s.show.event?n.trim(""+s.show.event).split(" "):[],b=s.hide.event?n.trim(""+s.hide.event).split(" "):[];n.each(s.events,function(t,e){i._bind(r,"toggle"===t?["tooltipshow","tooltiphide"]:["tooltip"+t],e,null,r)}),/mouse(out|leave)/i.test(s.hide.event)&&"window"===s.hide.leave&&this._bind(h,["mouseout","blur"],function(t){/select|option/.test(t.target.nodeName)||t.relatedTarget||this.hide(t)}),s.hide.fixed?l=l.add(r.addClass(B)):/mouse(over|enter)/i.test(s.show.event)&&this._bind(l,"mouseleave",function(){clearTimeout(this.timers.show)}),(""+s.hide.event).indexOf("unfocus")>-1&&this._bind(c.closest("html"),["mousedown","touchstart"],function(t){var e=n(t.target),i=this.rendered&&!this.tooltip.hasClass(H)&&this.tooltip[0].offsetWidth>0,s=e.parents(N).filter(this.tooltip[0]).length>0;e[0]===this.target[0]||e[0]===this.tooltip[0]||s||this.target.has(e[0]).length||!i||this.hide(t)}),"number"==typeof s.hide.inactive&&(this._bind(a,"qtip-"+this.id+"-inactive",p,"inactive"),this._bind(l.add(r),y.inactiveEvents,p)),this._bindEvents(v,b,a,l,d,f),this._bind(a.add(r),"mousemove",function(t){if("number"==typeof s.hide.distance){var e=this.cache.origin||{},i=this.options.hide.distance,n=Math.abs;(n(t.pageX-e.pageX)>=i||n(t.pageY-e.pageY)>=i)&&this.hide(t)}this._storeMouse(t)}),"mouse"===o.target&&o.adjust.mouse&&(s.hide.event&&this._bind(a,["mouseenter","mouseleave"],function(t){return this.cache?void(this.cache.onTarget="mouseenter"===t.type):F}),this._bind(h,"mousemove",function(t){this.rendered&&this.cache.onTarget&&!this.tooltip.hasClass(H)&&this.tooltip[0].offsetWidth>0&&this.reposition(t)})),(o.adjust.resize||u.length)&&this._bind(n.event.special.resize?u:g,"resize",m),o.adjust.scroll&&this._bind(g.add(o.container),"scroll",m)},b._unassignEvents=function(){var i=this.options,s=i.show.target,o=i.hide.target,r=n.grep([this.elements.target[0],this.rendered&&this.tooltip[0],i.position.container[0],i.position.viewport[0],i.position.container.closest("html")[0],t,e],function(t){return"object"==typeof t});s&&s.toArray&&(r=r.concat(s.toArray())),o&&o.toArray&&(r=r.concat(o.toArray())),this._unbind(r)._unbind(r,"destroy")._unbind(r,"inactive")},n(function(){g(N,["mouseenter","mouseleave"],function(t){var e="mouseenter"===t.type,i=n(t.currentTarget),s=n(t.relatedTarget||t.target),o=this.options;e?(this.focus(t),i.hasClass(B)&&!i.hasClass(H)&&clearTimeout(this.timers.hide)):"mouse"===o.position.target&&o.position.adjust.mouse&&o.hide.event&&o.show.target&&!s.closest(o.show.target[0]).length&&this.hide(t),i.toggleClass(W,e)}),g("["+P+"]",O,p)}),y=n.fn.qtip=function(t,e,s){var o=(""+t).toLowerCase(),r=_,l=n.makeArray(arguments).slice(1),c=l[l.length-1],u=this[0]?n.data(this[0],L):_;return!arguments.length&&u||"api"===o?u:"string"==typeof t?(this.each(function(){var t=n.data(this,L);if(!t)return C;if(c&&c.timeStamp&&(t.cache.event=c),!e||"option"!==o&&"options"!==o)t[o]&&t[o].apply(t,l);else{if(s===i&&!n.isPlainObject(e))return r=t.get(e),F;t.set(e,s)}}),r!==_?r:this):"object"!=typeof t&&arguments.length?void 0:(u=a(n.extend(C,{},t)),this.each(function(t){var e,i;return i=n.isArray(u.id)?u.id[t]:u.id,i=!i||i===F||i.length<1||y.api[i]?y.nextid++:i,e=v(n(this),i,u),e===F?C:(y.api[i]=e,n.each(j,function(){"initialize"===this.initialize&&this(e)}),void e._assignInitialEvents(c))}))},n.qtip=s,y.api={},n.each({attr:function(t,e){if(this.length){var i=this[0],s="title",o=n.data(i,"qtip");if(t===s&&o&&"object"==typeof o&&o.options.suppress)return arguments.length<2?n.attr(i,V):(o&&o.options.content.attr===s&&o.cache.attr&&o.set("content.text",e),this.attr(V,e))}return n.fn["attr"+U].apply(this,arguments)},clone:function(t){var e=(n([]),n.fn["clone"+U].apply(this,arguments));return t||e.filter("["+V+"]").attr("title",function(){return n.attr(this,V)}).removeAttr(V),e}},function(t,e){if(!e||n.fn[t+U])return C;var i=n.fn[t+U]=n.fn[t];n.fn[t]=function(){return e.apply(this,arguments)||i.apply(this,arguments)}}),n.ui||(n["cleanData"+U]=n.cleanData,n.cleanData=function(t){for(var e,i=0;(e=n(t[i])).length;i++)if(e.attr(M))try{e.triggerHandler("removeqtip")}catch(s){}n["cleanData"+U].apply(this,arguments)}),y.version="2.2.1",y.nextid=0,y.inactiveEvents=O,y.zindex=15e3,y.defaults={prerender:F,id:F,overwrite:C,suppress:C,content:{text:C,attr:"title",title:F,button:F},position:{my:"top left",at:"bottom right",target:F,container:F,viewport:F,adjust:{x:0,y:0,mouse:C,scroll:C,resize:C,method:"flipinvert flipinvert"},effect:function(t,e,i){n(this).animate(e,{duration:200,queue:F})}},show:{target:F,event:"mouseenter",effect:C,delay:90,solo:F,ready:F,autofocus:F},hide:{target:F,event:"mouseleave",effect:C,delay:0,fixed:F,inactive:F,leave:"window",distance:F},style:{classes:"",widget:F,width:F,height:F,def:C},events:{render:_,move:_,show:_,hide:_,toggle:_,visible:_,hidden:_,focus:_,blur:_}}})}(window,document),function(){var t,e;t=this.jQuery||window.jQuery,e=t(window),t.fn.stick_in_parent=function(i){var n,s,o,r,a,l,c,u,h,d,f;for(null==i&&(i={}),f=i.sticky_class,a=i.inner_scrolling,d=i.recalc_every,h=i.parent,u=i.offset_top,c=i.spacer,s=i.bottoming,null==u&&(u=0),null==h&&(h=void 0),null==a&&(a=!0),null==f&&(f="is_stuck"),n=t(document),null==s&&(s=!0),o=function(i,o,r,l,p,m,g,v){var y,b,k,w,x,C,F,_,S,E,A,T;if(!i.data("sticky_kit")){if(i.data("sticky_kit",!0),x=n.height(),F=i.parent(),null!=h&&(F=F.closest(h)),!F.length)throw"failed to find stick parent";if(y=k=!1,(A=null!=c?c&&i.closest(c):t("<div />"))&&A.css("position",i.css("position")),_=function(){var t,e,s;if(!v&&(x=n.height(),t=parseInt(F.css("border-top-width"),10),e=parseInt(F.css("padding-top"),10),o=parseInt(F.css("padding-bottom"),10),r=F.offset().top+t+e,l=F.height(),k&&(y=k=!1,null==c&&(i.insertAfter(A),A.detach()),i.css({position:"",top:"",width:"",bottom:""}).removeClass(f),s=!0),p=i.offset().top-(parseInt(i.css("margin-top"),10)||0)-u,m=i.outerHeight(!0),g=i.css("float"),A&&A.css({width:i.outerWidth(!0),height:m,display:i.css("display"),"vertical-align":i.css("vertical-align"),"float":g}),s))return T()},_(),m!==l)return w=void 0,C=u,E=d,T=function(){var t,h,b,S;if(!v&&(b=!1,null!=E&&(--E,0>=E&&(E=d,_(),b=!0)),b||n.height()===x||_(),b=e.scrollTop(),null!=w&&(h=b-w),w=b,k?(s&&(S=b+m+C>l+r,y&&!S&&(y=!1,i.css({position:"fixed",bottom:"",top:C}).trigger("sticky_kit:unbottom"))),b<p&&(k=!1,C=u,null==c&&("left"!==g&&"right"!==g||i.insertAfter(A),A.detach()),t={position:"",width:"",top:""},i.css(t).removeClass(f).trigger("sticky_kit:unstick")),a&&(t=e.height(),m+u>t&&!y&&(C-=h,C=Math.max(t-m,C),C=Math.min(u,C),k&&i.css({top:C+"px"})))):b>p&&(k=!0,t={position:"fixed",top:C},t.width="border-box"===i.css("box-sizing")?i.outerWidth()+"px":i.width()+"px",i.css(t).addClass(f),null==c&&(i.after(A),"left"!==g&&"right"!==g||A.append(i)),i.trigger("sticky_kit:stick")),k&&s&&(null==S&&(S=b+m+C>l+r),!y&&S)))return y=!0,"static"===F.css("position")&&F.css({position:"relative"}),i.css({position:"absolute",bottom:o,top:"auto"}).trigger("sticky_kit:bottom")},S=function(){return _(),T()},b=function(){if(v=!0,e.off("touchmove",T),e.off("scroll",T),e.off("resize",S),t(document.body).off("sticky_kit:recalc",S),i.off("sticky_kit:detach",b),i.removeData("sticky_kit"),i.css({position:"",bottom:"",top:"",width:""}),F.position("position",""),k)return null==c&&("left"!==g&&"right"!==g||i.insertAfter(A),A.remove()),i.removeClass(f)},e.on("touchmove",T),e.on("scroll",T),e.on("resize",S),t(document.body).on("sticky_kit:recalc",S),i.on("sticky_kit:detach",b),setTimeout(T,0)}},r=0,l=this.length;r<l;r++)i=this[r],o(t(i));return this}}.call(this),function(t,e){function i(){var t='<div class="sweet-overlay" tabIndex="-1"></div><div class="sweet-alert" tabIndex="-1"><div class="icon error"><span class="x-mark"><span class="line left"></span><span class="line right"></span></span></div><div class="icon warning"> <span class="body"></span> <span class="dot"></span> </div> <div class="icon info"></div> <div class="icon success"> <span class="line tip"></span> <span class="line long"></span> <div class="placeholder"></div> <div class="fix"></div> </div> <div class="icon custom"></div> <h2>Title</h2><p>Text</p><button class="cancel" tabIndex="2">Cancel</button><button class="confirm" tabIndex="1">OK</button></div>',i=e.createElement("div");i.innerHTML=t,e.body.appendChild(i)}function n(e){var i=v(),n=i.querySelector("h2"),s=i.querySelector("p"),o=i.querySelector("button.cancel"),a=i.querySelector("button.confirm");if(n.innerHTML=x(e.title).split("\n").join("<br>"),s.innerHTML=x(e.text||"").split("\n").join("<br>"),e.text&&F(s),S(i.querySelectorAll(".icon")),e.type){for(var l=!1,c=0;c<g.length;c++)if(e.type===g[c]){l=!0;break}if(!l)return t.console.error("Unknown alert type: "+e.type),!1;var u=i.querySelector(".icon."+e.type);switch(F(u),e.type){case"success":k(u,"animate"),k(u.querySelector(".tip"),"animateSuccessTip"),k(u.querySelector(".long"),"animateSuccessLong");break;case"error":k(u,"animateErrorIcon"),k(u.querySelector(".x-mark"),"animateXMark");break;case"warning":k(u,"pulseWarning"),k(u.querySelector(".body"),"pulseWarningIns"),k(u.querySelector(".dot"),"pulseWarningIns")}}if(e.imageUrl){var h=i.querySelector(".icon.custom");h.style.backgroundImage="url("+e.imageUrl+")",F(h);var d=80,f=80;if(e.imageSize){var p=e.imageSize.split("x")[0],m=e.imageSize.split("x")[1];p&&m?(d=p,f=m,h.css({width:p+"px",height:m+"px"})):t.console.error("Parameter imageSize expects value with format WIDTHxHEIGHT, got "+e.imageSize)}h.setAttribute("style",h.getAttribute("style")+"width:"+d+"px; height:"+f+"px")}i.setAttribute("data-has-cancel-button",e.showCancelButton),e.showCancelButton?o.style.display="inline-block":S(o),e.cancelButtonText&&(o.innerHTML=x(e.cancelButtonText)),e.confirmButtonText&&(a.innerHTML=x(e.confirmButtonText)),a.style.backgroundColor=e.confirmButtonColor,r(a,e.confirmButtonColor),i.setAttribute("data-allow-ouside-click",e.allowOutsideClick);var y=!!e.doneFunction;i.setAttribute("data-has-done-function",y)}function s(t,e){t=String(t).replace(/[^0-9a-f]/gi,""),t.length<6&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),e=e||0;var i,n,s="#";for(n=0;n<3;n++)i=parseInt(t.substr(2*n,2),16),i=Math.round(Math.min(Math.max(0,i+i*e),255)).toString(16),s+=("00"+i).substr(i.length);return s}function o(t){var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?parseInt(e[1],16)+", "+parseInt(e[2],16)+", "+parseInt(e[3],16):null}function r(t,e){var i=o(e);t.style.boxShadow="0 0 2px rgba("+i+", 0.8), inset 0 0 0 1px rgba(0, 0, 0, 0.05)"}function a(){var t=v();T(y(),10),F(t),k(t,"showSweetAlert"),w(t,"hideSweetAlert"),u=e.activeElement;var i=t.querySelector("button.confirm");i.focus(),setTimeout(function(){k(t,"visible")},500)}function l(){var i=v();q(y(),5),q(i,5),w(i,"showSweetAlert"),k(i,"hideSweetAlert"),w(i,"visible");var n=i.querySelector(".icon.success");w(n,"animate"),w(n.querySelector(".tip"),"animateSuccessTip"),w(n.querySelector(".long"),"animateSuccessLong");var s=i.querySelector(".icon.error");w(s,"animateErrorIcon"),w(s.querySelector(".x-mark"),"animateXMark");var o=i.querySelector(".icon.warning");w(o,"pulseWarning"),w(o.querySelector(".body"),"pulseWarningIns"),w(o.querySelector(".dot"),"pulseWarningIns"),t.onkeydown=d,e.onclick=h,u&&u.focus(),f=void 0}function c(){var t=v();t.style.marginTop=A(v())}var u,h,d,f,p=".sweet-alert",m=".sweet-overlay",g=["error","warning","info","success"],v=function(){return e.querySelector(p)},y=function(){return e.querySelector(m)},b=function(t,e){return new RegExp(" "+e+" ").test(" "+t.className+" ")},k=function(t,e){b(t,e)||(t.className+=" "+e)},w=function(t,e){var i=" "+t.className.replace(/[\t\r\n]/g," ")+" ";if(b(t,e)){for(;i.indexOf(" "+e+" ")>=0;)i=i.replace(" "+e+" "," ");t.className=i.replace(/^\s+|\s+$/g,"")}},x=function(t){var i=e.createElement("div");return i.appendChild(e.createTextNode(t)),i.innerHTML},C=function(t){t.style.opacity="",t.style.display="block"},F=function(t){if(t&&!t.length)return C(t);for(var e=0;e<t.length;++e)C(t[e])},_=function(t){t.style.opacity="",t.style.display="none"},S=function(t){if(t&&!t.length)return _(t);for(var e=0;e<t.length;++e)_(t[e])},E=function(t,e){for(var i=e.parentNode;null!==i;){if(i===t)return!0;i=i.parentNode}return!1},A=function(t){t.style.left="-9999px",t.style.display="block";var e=t.clientHeight,i=parseInt(getComputedStyle(t).getPropertyValue("padding"),10);return t.style.left="",t.style.display="none","-"+parseInt(e/2+i)+"px"},T=function(t,e){if(+t.style.opacity<1){e=e||16,t.style.opacity=0,t.style.display="block";var i=+new Date,n=function(){t.style.opacity=+t.style.opacity+(new Date-i)/100,i=+new Date,+t.style.opacity<1&&setTimeout(n,e)};n()}},q=function(t,e){e=e||16,t.style.opacity=1;var i=+new Date,n=function(){t.style.opacity=+t.style.opacity-(new Date-i)/100,i=+new Date,+t.style.opacity>0?setTimeout(n,e):t.style.display="none"};n()},I=function(i){if(MouseEvent){var n=new MouseEvent("click",{view:t,bubbles:!1,cancelable:!0});i.dispatchEvent(n)}else if(e.createEvent){var s=e.createEvent("MouseEvents");s.initEvent("click",!1,!1),i.dispatchEvent(s)}else e.createEventObject?i.fireEvent("onclick"):"function"==typeof i.onclick&&i.onclick()},D=function(e){"function"==typeof e.stopPropagation?(e.stopPropagation(),e.preventDefault()):t.event&&t.event.hasOwnProperty("cancelBubble")&&(t.event.cancelBubble=!0)};t.sweetAlert=t.swal=function(){function i(t){var e=t.keyCode||t.which;if([9,13,32,27].indexOf(e)!==-1){for(var i=t.target||t.srcElement,n=-1,s=0;s<x.length;s++)if(i===x[s]){n=s;break}9===e?(i=n===-1?k:n===x.length-1?x[0]:x[n+1],D(t),i.focus(),r(i,u.confirmButtonColor)):(i=13===e||32===e?n===-1?k:void 0:27!==e||w.hidden||"none"===w.style.display?void 0:w,void 0!==i&&I(i,t))}}function o(t){var e=t.target||t.srcElement,i=t.relatedTarget,n=b(p,"visible");if(n){var s=-1;if(null!==i){for(var o=0;o<x.length;o++)if(i===x[o]){s=o;break}s===-1&&e.focus()}else f=e}}var u={title:"",text:"",type:null,allowOutsideClick:!1,showCancelButton:!1,closeOnConfirm:!0,closeOnCancel:!0,confirmButtonText:"OK",confirmButtonColor:"#AEDEF4",cancelButtonText:"Cancel",imageUrl:null,imageSize:null};if(void 0===arguments[0])return t.console.error("sweetAlert expects at least 1 attribute!"),!1;switch(typeof arguments[0]){case"string":u.title=arguments[0],u.text=arguments[1]||"",u.type=arguments[2]||"";break;case"object":if(void 0===arguments[0].title)return t.console.error('Missing "title" argument!'),!1;u.title=arguments[0].title,u.text=arguments[0].text||u.text,u.type=arguments[0].type||u.type,u.allowOutsideClick=arguments[0].allowOutsideClick||u.allowOutsideClick,u.showCancelButton=void 0!==arguments[0].showCancelButton?arguments[0].showCancelButton:u.showCancelButton,u.closeOnConfirm=void 0!==arguments[0].closeOnConfirm?arguments[0].closeOnConfirm:u.closeOnConfirm,u.closeOnCancel=void 0!==arguments[0].closeOnCancel?arguments[0].closeOnCancel:u.closeOnCancel,u.confirmButtonText=u.showCancelButton?"Confirm":u.confirmButtonText,u.confirmButtonText=arguments[0].confirmButtonText||u.confirmButtonText,u.confirmButtonColor=arguments[0].confirmButtonColor||u.confirmButtonColor,u.cancelButtonText=arguments[0].cancelButtonText||u.cancelButtonText,u.imageUrl=arguments[0].imageUrl||u.imageUrl,u.imageSize=arguments[0].imageSize||u.imageSize,u.doneFunction=arguments[1]||null;break;default:return t.console.error('Unexpected type of argument! Expected "string" or "object", got '+typeof arguments[0]),!1}n(u),c(),a();for(var p=v(),m=function(t){var e=t.target||t.srcElement,i="confirm"===e.className,n=b(p,"visible"),o=u.doneFunction&&"true"===p.getAttribute("data-has-done-function");switch(t.type){case"mouseover":i&&(t.target.style.backgroundColor=s(u.confirmButtonColor,-.04));break;case"mouseout":i&&(t.target.style.backgroundColor=u.confirmButtonColor);break;case"mousedown":i&&(t.target.style.backgroundColor=s(u.confirmButtonColor,-.14));break;case"mouseup":i&&(t.target.style.backgroundColor=s(u.confirmButtonColor,-.04));break;case"focus":var r=p.querySelector("button.confirm"),a=p.querySelector("button.cancel");i?a.style.boxShadow="none":r.style.boxShadow="none";break;case"click":if(i&&o&&n)u.doneFunction(!0),u.closeOnConfirm&&l();else if(o&&n){var c=String(u.doneFunction).replace(/\s/g,""),h="function("===c.substring(0,9)&&")"!==c.substring(9,10);h&&u.doneFunction(!1),u.closeOnCancel&&l()}else l()}},g=p.querySelectorAll("button"),y=0;y<g.length;y++)g[y].onclick=m,g[y].onmouseover=m,g[y].onmouseout=m,g[y].onmousedown=m,g[y].onfocus=m;h=e.onclick,e.onclick=function(t){var e=t.target||t.srcElement,i=p===e,n=E(p,t.target),s=b(p,"visible"),o="true"===p.getAttribute("data-allow-ouside-click");!i&&!n&&s&&o&&l()};var k=p.querySelector("button.confirm"),w=p.querySelector("button.cancel"),x=p.querySelectorAll("button:not([type=hidden])");d=t.onkeydown,t.onkeydown=i,k.onblur=o,w.onblur=o,t.onfocus=function(){t.setTimeout(function(){void 0!==f&&(f.focus(),f=void 0)},0)}},function(){"complete"===e.readyState||"interactive"===e.readyState?i():e.addEventListener?e.addEventListener("DOMContentLoaded",function(){e.removeEventListener("DOMContentLoaded",arguments.callee,!1),i()},!1):e.attachEvent&&e.attachEvent("onreadystatechange",function(){"complete"===e.readyState&&(e.detachEvent("onreadystatechange",arguments.callee),i())})}()}(window,document);