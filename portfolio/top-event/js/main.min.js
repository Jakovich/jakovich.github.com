"use strict";$(document).ready(function(){function t(){c.fadeIn(500),l.fadeIn(500)}function n(t,n){t.fadeOut(500),n.fadeOut(500)}function i(){$("input[name=name]").each(function(){Inputmask.isValid($(this).val(),{alias:"a{2,20} [aa{2,20}]"})&&$(this).addClass("input-completed")}),$("input[name=email]").each(function(){Inputmask.isValid($(this).val(),{alias:"email"})&&$(this).addClass("input-completed")}),$("input[name=phone]").each(function(){Inputmask.isValid($(this).val(),{alias:"+7 (999) 999-9999"})&&$(this).addClass("input-completed")})}function o(t){var n=$(t).find(".form__btn"),i=$(t).find("input");n.click(function(t){i.each(function(){$(this).hasClass("input-completed")||(t.preventDefault(),a($(this),"Заполните данное поле","form__errorMsg"))})})}function a(t,n,i){if(!t.siblings().is(".form__errorMsg")){var o=$("<span/>",{"class":i,html:n});o.appendTo(t.parent()),o.fadeIn(500)}}function e(t){t.siblings().is(".form__errorMsg")&&t.parent().find(".form__errorMsg").fadeOut(400,function(){t.parent().find(".form__errorMsg").remove()})}$("#promo-timer").syotimer({year:2015,month:11,day:28,hour:21,minute:34,lang:"rus",periodUnit:"h",periodic:!0,periodInterval:32,dayVisible:!1}),$(".portfolio__photo").find("a").colorbox({rel:"gallery",maxWidth:"90%",transition:"fade",current:""});var s=$(".popup"),r=$(".popup__overlay"),c=$(".popup-confirm"),l=$(".popup-confirm__overlay");$(".common-btn").click(function(t){t.preventDefault(),s.fadeIn(500),r.fadeIn(500)}),r.click(function(){t()}),$(this).keydown(function(n){27==n.which&&t()}),$("#confirm-yes").click(function(){n(s,r),n(c,l)}),$("#confirm-no").click(function(){n(c,l)}),$(".slider__jcarousel").jcarousel({wrap:"circular"}).jcarouselAutoscroll({interval:1e4,target:"+=1",autostart:!0}),$(".slider__prev").on("jcarouselcontrol:active",function(){$(this).removeClass("inactive")}).on("jcarouselcontrol:inactive",function(){$(this).addClass("inactive")}).jcarouselControl({target:"-=1"}),$(".slider__next").on("jcarouselcontrol:active",function(){$(this).removeClass("inactive")}).on("jcarouselcontrol:inactive",function(){$(this).addClass("inactive")}).jcarouselControl({target:"+=1"}),$(".slider__jcarousel").hover(function(){$(this).jcarouselAutoscroll("stop")},function(){$(this).jcarouselAutoscroll("start")}),$("input[name=name]").inputmask("a{2,20} [aa{2,20}]",{onincomplete:function(){$(this).removeClass("input-completed")},oncomplete:function(){$(this).addClass("input-completed")},onKeyValidation:function(){e($(this))},placeholder:" ",showMaskOnHover:!1}),$("input[name=phone]").inputmask("+7 (999) 999-9999",{onincomplete:function(){$(this).removeClass("input-completed")},oncomplete:function(){$(this).addClass("input-completed")},onKeyValidation:function(){e($(this))}}),$("input[name=email]").inputmask({alias:"email",onincomplete:function(){$(this).removeClass("input-completed")},oncomplete:function(){$(this).addClass("input-completed")},onKeyValidation:function(){e($(this))}}),i(),$(".form").each(function(){o(this)}),$('.main-nav__item a[href^="#"]').click(function(){var t=$(this).attr("href"),n=$(t).offset().top-80;return $.browser.safari?$("body").animate({scrollTop:n},1100):$("html").animate({scrollTop:n},1100),!1}),jQuery(function(t){var n=t("#up-btn");t(window).scroll(function(){n["fade"+(t(this).scrollTop()>1e3?"In":"Out")](500)})}),$("#up-btn").click(function(){$("body,html").animate({scrollTop:0},800)}),$(".portfolio .paginator__item").click(function(t){t.preventDefault();var n=$('[data-tabcontent="'+this.dataset.tablink+'"]'),i=$("[data-tabcontent]");if(i.each(function(){$(this).hide()}),$(".portfolio .paginator__item").removeClass("paginator__item--current"),$(this).addClass("paginator__item--current"),n.hasClass("portfolio__item--hidden")){var o=n.find("[data-src]");o.each(function(){console.log($(this));var t=$(this).attr("data-src"),n=$(this).attr("data-width"),i=new Image;i.src=t,i.setAttribute("alt",""),i.setAttribute("width",n),i.setAttribute("alt","298"),$(this).prepend(i)})}n.show(0,function(){$(this).removeClass("portfolio__item--hidden")})})});