"use strict";$(document).ready(function(){function p(p,r,o,e){var t=$("<span></span>");o&&t.append(e),t.addClass(r),t.hide();var a=$("label[for='"+p+"']");a.append(t),t.fadeIn(300)}function r(p,r){var o=$("label[for='"+p+"']");o.children().hasClass(r)&&o.find("."+r).fadeOut(300,function(){$(this).remove()})}$(".popup-report").after("<div class='popup-report__overlay'></div>"),$(".popup-report, .popup-report__overlay").hide(),$(".basic-btn").click(function(p){p.preventDefault(),$(".popup-report, .popup-report__overlay").fadeIn(500)}),$(".popup-report__close, .popup-report__overlay").click(function(){$(".popup-report, .popup-report__overlay").fadeOut(500),$(".popup-report").hasClass("popup-report__shake")&&$(".popup-report").removeClass("popup-report__shake")}),$(this).keydown(function(p){27==p.which&&$(".popup-report, .popup-report__overlay").fadeOut(500),$(".popup-report").hasClass("popup-report__shake")&&$(".popup-report").removeClass("popup-report__shake")});var o=0,e=0,t=$(".popup-report__form [name=phone]").val();if(Inputmask.isValid(t,{alias:"+7 (999) 999-9999"}))var o=1;var a=$(".popup-report__form [name=name]").val();if(Inputmask.isValid(a,{alias:"a{2,20} "}))var e=1;$("#report-phone").inputmask("+7 (999) 999-9999",{onincomplete:function(){o=0,$(this).addClass("popup-report__input--invalid"),p("report-phone","popup-report__error")},oncomplete:function(){o=1,$(this).removeClass("popup-report__input--invalid"),r("report-phone","popup-report__error")},onKeyValidation:function(){r("report-phone","popup-report__error")}}),$("#report-name").inputmask("a{2,20} [aa{2,20}]",{placeholder:" ",showMaskOnHover:!1,onincomplete:function(){e=0,$(this).addClass("popup-report__input--invalid"),p("report-name","popup-report__error")},oncomplete:function(){e=1,$(this).removeClass("popup-report__input--invalid"),r("report-name","popup-report__error")},onKeyValidation:function(){r("report-name","popup-report__error")}}),$(".popup-report__btn").click(function(r){0===o&&(r.preventDefault(),$("#report-phone").addClass("popup-report__input--invalid"),$("label[for='report-phone']").children().hasClass("popup-report__error")||p("report-phone","popup-report__error"),$(".popup-report").hasClass("popup-report__shake")&&$(".popup-report").removeClass("popup-report__shake"),$(".popup-report").addClass("popup-report__shake")),0===e&&(r.preventDefault(),$("#report-name").addClass("popup-report__input--invalid"),$("label[for='input-name']").children().hasClass("popup-report__error")||p("report-name","popup-report__error"),$(".popup-report").hasClass("popup-report__shake")&&$(".popup-report").removeClass("popup-report__shake"),$(".popup-report").addClass("popup-report__shake"))}),$(".popup-report__form").submit(function(){$(".popup-report, .popup-report__overlay").fadeOut(500),$(".popup-report").hasClass("popup-report__shake")&&$(".popup-report").removeClass("popup-report__shake")}),$(document).mouseup(function(p){var o=$(".popup-report");o.is(p.target)||0!==o.has(p.target).length||(r("report-name","popup-report__error"),r("report-phone","popup-report__error"),$("#report-name").removeClass("popup-report__input--invalid"),$("#report-phone").removeClass("popup-report__input--invalid"))})});